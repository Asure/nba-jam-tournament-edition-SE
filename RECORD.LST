TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                    
       2                            .file   "record.asm"
       4                            .width  132
       5                            .option b,d,l,t
       6                            .mnolist
       7                    
       8                    
       9                            .include        "mproc.equ"
      10                            .include        "disp.equ"
      11                            .include        "sys.equ"
      12                            .include        "gsp.equ"
      13                            .include        "mac2.asm"
      14                            .include        "game.equ"
      15                            .include        "audit.equ"
      16                            .include        "link.equ"
      17                            .include        "shawn.hdr"
      18                            .include        "imgtbl.glo"
      19                            .include        "bgndtbl.glo"
      20                    
      21                    
      22                            .global sort_wins
      23                            .global save_player_records
      24                    
      25                            .global get_player_record
      26                            .global find_record
      27                            .global player1_data,player2_data,player3_data,player4_data
      28                            .global show_player_records
      29                            .global clear_player_records
      30                    
      31                            .global message_palette
      32                            .global mess_space_width
      33                            .global print_string,print_string2
      34                            .global print_string_C,print_string_C2
      35                            .global message_ascii
      36                            .global mess_spacing
      37                            .global mess_objid
      38                            .global mess_cursx,mess_cursy
      39                            .global lgmd_ascii,osgemd_ascii,sgmd8_ascii
      40                            .global setup_message
      41                            .global message_buffer
      42                            .global get_initials_string
      43                            .global dec_to_asc,dec_to_pct
      44                            .global copy_string,copy_rom_string
      45                            .global concat_string,concat_rom_string
      46                            .global print_string_R,print_string_R2
      47                    
      48                    
      49                            .ref    pal_getf
      50                            .ref    morf_pal
      51                            .ref    morfpal1,morfpal2
      52                            .ref    morfpal3,morfpal4
      53                            .ref    morfpal5,morfpal6
      54                            .ref    morfpal7,morfpal8
      55                            .ref    morfpal9,morfpal10
      56                            .ref    morfpal11
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE    2

      57                    
      58                            .ref    CYCLE_TABLE
      59                    
      60                            .ref    get_teams_pop,sorted_teams
      61                            .ref    BAKMODS
      62                            .ref    BGND_UD1
      63                            .ref    SET_PAGE
      64                            .ref    WC_BYTE,RC_BYTE
      65                            .ref    WC_BYTEI,RC_BYTEI
      66                            .ref    WC_WORD,RC_WORD
      67                            .ref    WC_WORDI,RC_WORD
      68                            .ref    WC_LONG,RC_LONG
      69                            .ref    WC_LONGI,RC_LONG
      70                    
      71                            .ref    dpageflip
      72                            .ref    IRQSKYE
      73                            .ref    KILBGND
      74                            .ref    get_all_buttons_cur
      75                            .ref    get_all_buttons_cur2
      76                    
      77                            .ref    get_all_sticks_down2
      78                            .ref    get_all_buttons_cur2
      79                    
      80                            .ref    WIPEOUT
      81                            .ref    CLR_SCRN
      82                            .ref    COLRTEMP
      83                            .ref    obj_del1c
      84                            .ref    get_all_sticks_down
      85                            .ref    get_all_sticks_cur,get_all_sticks_cur2
      86                    
      87                            .ref    team1,team2
      88                            .ref    PSTATUS,PSTATUS2
      89                            .ref    scores
      90                    
      91                    
      92                     .if 0
      93                    
      94                    PR_COUNT        equ     0
      95                    PR_WON          equ     PR_COUNT+16
      96                    PR_LOST         equ     PR_WON+16
      97                    PR_LASTPLAY     equ     PR_LOST+16
      98                    PR_INIT1        equ     PR_LASTPLAY+16
      99                    PR_INIT2        equ     PR_INIT1+16
     100                    PR_INIT3        equ     PR_INIT2+16
     101                    PR_MONTH        equ     PR_INIT3+16
     102                    PR_DAY          equ     PR_MONTH+16
     103                    PR_TMATEINIT1   equ     PR_DAY+16
     104                    PR_TMATEINIT2   equ     PR_TMATEINIT1+16
     105                    PR_TMATEINIT3   equ     PR_TMATEINIT2+16
     106                    PR_OP1INIT1     equ     PR_TMATEINIT3+16
     107                    PR_OP1INIT2     equ     PR_OP1INIT1+16
     108                    PR_OP1INIT3     equ     PR_OP1INIT2+16
     109                    PR_OP2INIT1     equ     PR_OP1INIT3+16
     110                    PR_OP2INIT2     equ     PR_OP2INIT1+16
     111                    PR_OP2INIT3     equ     PR_OP2INIT2+16
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE    3

     112                    PR_PTEAM        equ     PR_OP2INIT3+16
     113                    PR_OTEAM        equ     PR_PTEAM+16
     114                    PR_OSCORE       equ     PR_OTEAM+16
     115                    PR_PSCORE       equ     PR_OSCORE+16
     116                    PR_TEAMSDEF     equ     PR_PSCORE+16
     117                    PR_NUMDEF       equ     PR_TEAMSDEF+32
     118                    PR_NUMDEFOLD    equ     PR_NUMDEF+16
     119                    PR_WINSTREAK    equ     PR_NUMDEFOLD+16
     120                    PR_RANK         equ     PR_WINSTREAK+16
     121                    PR_CHECKSUM     equ     PR_RANK+16
     122                    PR_SIZE         equ     PR_CHECKSUM+16
     123                    
     124                    
     125                    PKDPR_COUNT     equ     0                       ;11 bits
     126                    PKDPR_WON       equ     PKDPR_COUNT+11          ;11 bits
     127                    
     128                    PKDPR_LASTPLAY  equ     PKDPR_WON+11            ;11 bits
     129                    PKDPR_INIT1     equ     PKDPR_LASTPLAY+11       ; 5 bits
     130                    
     131                    PKDPR_INIT2     equ     PKDPR_INIT1+5           ; 5 bits
     132                    PKDPR_INIT3     equ     PKDPR_INIT2+5           ; 5 bits
     133                    PKDPR_MONTH     equ     PKDPR_INIT3+5           ; 4 bits
     134                    PKDPR_DAY       equ     PKDPR_MONTH+4           ; 5 bits
     135                    PKDPR_TMATEINIT1 equ    PKDPR_DAY+5             ; 5 bits
     136                    PKDPR_TMATEINIT2 equ    PKDPR_TMATEINIT1+5      ; 5 bits
     137                    PKDPR_TMATEINIT3 equ    PKDPR_TMATEINIT2+5      ; 5 bits
     138                    PKDPR_OP1INIT1  equ     PKDPR_TMATEINIT3+5      ; 5 bits
     139                    PKDPR_OP1INIT2  equ     PKDPR_OP1INIT1+5        ; 5 bits
     140                    PKDPR_OP1INIT3  equ     PKDPR_OP1INIT2+5        ; 5 bits
     141                    PKDPR_OP2INIT1  equ     PKDPR_OP1INIT3+5        ; 5 bits
     142                    PKDPR_OP2INIT2  equ     PKDPR_OP2INIT1+5        ; 5 bits
     143                    PKDPR_OP2INIT3  equ     PKDPR_OP2INIT2+5        ; 5 bits
     144                    PKDPR_PTEAM     equ     PKDPR_OP2INIT3+5        ; 5 bits
     145                    PKDPR_OTEAM     equ     PKDPR_PTEAM+5           ; 5 bits
     146                    PKDPR_OSCORE    equ     PKDPR_OTEAM+5           ; 8 bits
     147                    PKDPR_PSCORE    equ     PKDPR_OSCORE+8          ; 8 bits
     148                    PKDPR_TEAMSDEF  equ     PKDPR_PSCORE+8          ;27 bits
     149                    
     150                    PKDPR_WINSTREAK equ     PKDPR_TEAMSDEF+27       ; 6 bits
     151                    PKDPR_CHECKSUM  equ     PKDPR_WINSTREAK+6       ; 8 bits  (168 bits total)
     152                    
     153                    PKDPR_SIZE      equ     ((PKDPR_CHECKSUM+8+7)/8)*8 ;must be on byte boundary
     154                    
     155                    RS_RECORD_NUM   equ     0
     156                    RS_GAMES_PLAYED equ     RS_RECORD_NUM+10h
     157                    RS_WINS         equ     RS_GAMES_PLAYED+10h
     158                    RS_AVERAGE      equ     RS_WINS+10h
     159                    RS_TEAMSDEF     equ     RS_AVERAGE+10h
     160                    RS_STREAK       equ     RS_TEAMSDEF+10h
     161                    RS_SIZE         equ     RS_STREAK+10h
     162                    
     163                     .endif
     164                    
     165          07ffffff  _27BITS         equ     7ffffffh
     166              07ff  _11BITS         equ     011111111111b
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE    4

     167              03ff  _10BITS         equ     01111111111b
     168              00ff  _8BITS          equ     011111111b
     169              003f  _6BITS          equ     0111111b
     170              001f  _5BITS          equ     011111b
     171              000f  _4BITS          equ     01111b
     172                    
     173              0000  _ATL    equ 0
     174              0001  _BOS    equ 1
     175              0002  _CHA    equ 2
     176              0003  _CHI    equ 3
     177              0004  _CLE    equ 4
     178              0005  _DAL    equ 5
     179              0006  _DEN    equ 6
     180              0007  _DET    equ 7
     181              0008  _GOL    equ 8
     182              0009  _HOU    equ 9
     183              000a  _IND    equ 10
     184              000b  _LAC    equ 11
     185              000c  _LAL    equ 12
     186              000d  _MI     equ 13
     187              000e  _MIL    equ 14
     188              000f  _MIN    equ 15
     189              0010  _NJ     equ 16
     190              0011  _NY     equ 17
     191              0012  _ORL    equ 18
     192              0013  _PHI    equ 19
     193              0014  _PHX    equ 20
     194              0015  _POR    equ 21
     195              0016  _SAC    equ 22
     196              0017  _SAN    equ 23
     197              0018  _SEA    equ 24
     198              0019  _UTA    equ 25
     199              001a  _WAS    equ 26
     200                    
     201 00000000                   .bss    player1_data,   PR_SIZE
     202 000001d0                   .bss    player2_data,   PR_SIZE
     203 000003a0                   .bss    player3_data,   PR_SIZE
     204 00000570                   .bss    player4_data,   PR_SIZE
     205 00000740                   .bss    temp_record,    PR_SIZE
     206 00000910                   .bss    packed_record,  ((PKDPR_SIZE+15)/16)*16+32
     207                                                    ;word align & pad 32 bits at end
     208                    
     209 000009e0                   .bss    player_stats,   PS_SIZE*10h*4
     210                            .global player_stats
     211                    
     212                    
     213 00000d60                   .bss    record_sort_ptrs,       32*NUM_PRECORDS
     214                    
     215          01200000  record_sort_ram equ     SCRATCH+8*256*1024
     216                    
     217                    
     218 000031a0                   .bss    hiscore_type,   16
     219                            .global hiscore_type
     220 00000000                   .text
     221                    
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE    5

     222 00000000     fc80  bounce_snd      .word   0fc80H,10,08129H,0      ;Ball bounce
     223                    
     224                    
     225 00000040            SUBRP  save_player_records
     226                    
     227 00000040     05a0          move    @team1,a0
         00000050 00000000! 
     228 00000070     0580          move    a0,@player1_data+PR_PTEAM
         00000080 00000120- 
     229 000000a0     0580          move    a0,@player2_data+PR_PTEAM
         000000b0 000002f0- 
     230 000000d0     0580          move    a0,@player3_data+PR_OTEAM
         000000e0 000004d0- 
     231 00000100     0580          move    a0,@player4_data+PR_OTEAM
         00000110 000006a0- 
     232                    
     233 00000130     05a0          move    @team2,a0
         00000140 00000000! 
     234 00000160     0580          move    a0,@player1_data+PR_OTEAM
         00000170 00000130- 
     235 00000190     0580          move    a0,@player2_data+PR_OTEAM
         000001a0 00000300- 
     236 000001c0     0580          move    a0,@player3_data+PR_PTEAM
         000001d0 000004c0- 
     237 000001f0     0580          move    a0,@player4_data+PR_PTEAM
         00000200 00000690- 
     238                    
     239 00000220     09e4          movi    player1_data,a4         ;fill player 1's initials
         00000230 00000000- 
     240 00000250     09e5          movi    player2_data,a5
         00000260 000001d0- 
     241 00000280     09e6          movi    player3_data,a6
         00000290 000003a0- 
     242 000002b0     09e7          movi    player4_data,a7
         000002c0 00000570- 
     243 000002e0     0d3f          callr   copy_inits
         000002f0     0167  
     244                    
     245 00000300     09e4          movi    player2_data,a4         ;fill player 2's initials
         00000310 000001d0- 
     246 00000330     09e5          movi    player1_data,a5
         00000340 00000000- 
     247 00000360     09e6          movi    player3_data,a6
         00000370 000003a0- 
     248 00000390     09e7          movi    player4_data,a7
         000003a0 00000570- 
     249 000003c0     0d3f          callr   copy_inits
         000003d0     0159  
     250                    
     251 000003e0     09e4          movi    player3_data,a4         ;fill player 3's initials
         000003f0 000003a0- 
     252 00000410     09e5          movi    player4_data,a5
         00000420 00000570- 
     253 00000440     09e6          movi    player1_data,a6
         00000450 00000000- 
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE    6

     254 00000470     09e7          movi    player2_data,a7
         00000480 000001d0- 
     255 000004a0     0d3f          callr   copy_inits
         000004b0     014b  
     256                    
     257 000004c0     09e4          movi    player4_data,a4         ;fill player 4's initials
         000004d0 00000570- 
     258 000004f0     09e5          movi    player3_data,a5
         00000500 000003a0- 
     259 00000520     09e6          movi    player1_data,a6
         00000530 00000000- 
     260 00000550     09e7          movi    player2_data,a7
         00000560 000001d0- 
     261 00000580     0d3f          callr   copy_inits
         00000590     013d  
     262                    
     263 000005a0     05a0          move    @scores,a0
         000005b0 00000000! 
     264 000005d0     05a1          move    @scores+10h,a1
         000005e0 00000010! 
     265                    
     266 00000600     0580          move    a0,@player1_data+PR_PSCORE
         00000610 00000150- 
     267 00000630     0581          move    a1,@player1_data+PR_OSCORE
         00000640 00000140- 
     268 00000660     0580          move    a0,@player2_data+PR_PSCORE
         00000670 00000320- 
     269 00000690     0581          move    a1,@player2_data+PR_OSCORE
         000006a0 00000310- 
     270                    
     271 000006c0     0581          move    a1,@player3_data+PR_PSCORE
         000006d0 000004f0- 
     272 000006f0     0580          move    a0,@player3_data+PR_OSCORE
         00000700 000004e0- 
     273 00000720     0581          move    a1,@player4_data+PR_PSCORE
         00000730 000006c0- 
     274 00000750     0580          move    a0,@player4_data+PR_OSCORE
         00000760 000006b0- 
     275                    
     276 00000780     4801          cmp     a0,a1
     277 00000790     c749          jrgt    dplqt2_wins
     278 000007a0     05a0          move    @player1_data+PR_WON,a0
         000007b0 00000010- 
     279 000007d0     1020          inc     a0
     280 000007e0     0580          move    a0,@player1_data+PR_WON
         000007f0 00000010- 
     281 00000810     05a0          move    @player1_data+PR_WINSTREAK,a0
         00000820 000001a0- 
     282 00000840     1020          inc     a0
     283 00000850     0b80          andi    _6BITS,a0
         00000860 ffffffc0  
     284 00000880     ca03          jrz     dplqno_wrap1
     285 00000890     0580          move    a0,@player1_data+PR_WINSTREAK
         000008a0 000001a0- 
     286 000008c0           dplqno_wrap1
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE    7

     287                    
     288 000008c0     05a0          move    @player2_data+PR_WON,a0
         000008d0 000001e0- 
     289 000008f0     1020          inc     a0
     290 00000900     0580          move    a0,@player2_data+PR_WON
         00000910 000001e0- 
     291 00000930     05a0          move    @player2_data+PR_WINSTREAK,a0
         00000940 00000370- 
     292 00000960     1020          inc     a0
     293 00000970     0b80          andi    _6BITS,a0
         00000980 ffffffc0  
     294 000009a0     ca03          jrz     dplqno_wrap2
     295 000009b0     0580          move    a0,@player2_data+PR_WINSTREAK
         000009c0 00000370- 
     296 000009e0           dplqno_wrap2
     297                    
     298 000009e0     5600          clr     a0
     299 000009f0     0580          move    a0,@player3_data+PR_WINSTREAK
         00000a00 00000540- 
     300 00000a20     0580          move    a0,@player4_data+PR_WINSTREAK
         00000a30 00000710- 
     301                    
     302 00000a50     05a0          move    @team2,a0
         00000a60 00000000! 
     303 00000a80     1821          movk    1,a1
     304 00000a90     6201          sll     a0,a1
     305                    
     306 00000aa0     05a0          move    @PSTATUS2,a0            ;if opponent is human then don't
         00000ab0 00000000! 
     307 00000ad0     0b80          andi    01100b,a0               ;count wins for top five teams
         00000ae0 fffffff3  
     308 00000b00     ca03          jrz     dplqt2cpu
     309 00000b10     0b81          andni   (1<<_UTA) | (1<<_NY) | (1<<_POR) | (1<<_PHX) | (1<<_CHI),a1
         00000b20 02320008  
     310 00000b40           dplqt2cpu
     311 00000b40     07a0          move    @player1_data+PR_TEAMSDEF,a0,L
         00000b50 00000160- 
     312 00000b70     5420          or      a1,a0
     313 00000b80     0780          move    a0,@player1_data+PR_TEAMSDEF,L
         00000b90 00000160- 
     314 00000bb0     07a0          move    @player2_data+PR_TEAMSDEF,a0,L
         00000bc0 00000330- 
     315 00000be0     5420          or      a1,a0
     316 00000bf0     0780          move    a0,@player2_data+PR_TEAMSDEF,L
         00000c00 00000330- 
     317 00000c20     c048          jruc    dplqcont1
     318 00000c30           dplqt2_wins
     319 00000c30     05a0          move    @player3_data+PR_WON,a0
         00000c40 000003b0- 
     320 00000c60     1020          inc     a0
     321 00000c70     0580          move    a0,@player3_data+PR_WON
         00000c80 000003b0- 
     322 00000ca0     05a0          move    @player3_data+PR_WINSTREAK,a0
         00000cb0 00000540- 
     323 00000cd0     1020          inc     a0
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE    8

     324 00000ce0     0b80          andi    _6BITS,a0
         00000cf0 ffffffc0  
     325 00000d10     ca03          jrz     dplqno_wrap3
     326 00000d20     0580          move    a0,@player3_data+PR_WINSTREAK
         00000d30 00000540- 
     327 00000d50           dplqno_wrap3
     328                    
     329 00000d50     05a0          move    @player4_data+PR_WON,a0
         00000d60 00000580- 
     330 00000d80     1020          inc     a0
     331 00000d90     0580          move    a0,@player4_data+PR_WON
         00000da0 00000580- 
     332 00000dc0     05a0          move    @player4_data+PR_WINSTREAK,a0
         00000dd0 00000710- 
     333 00000df0     1020          inc     a0
     334 00000e00     0b80          andi    _6BITS,a0
         00000e10 ffffffc0  
     335 00000e30     ca03          jrz     dplqno_wrap4
     336 00000e40     0580          move    a0,@player4_data+PR_WINSTREAK
         00000e50 00000710- 
     337 00000e70           dplqno_wrap4
     338                    
     339 00000e70     5600          clr     a0
     340 00000e80     0580          move    a0,@player1_data+PR_WINSTREAK
         00000e90 000001a0- 
     341 00000eb0     0580          move    a0,@player2_data+PR_WINSTREAK
         00000ec0 00000370- 
     342                    
     343 00000ee0     05a0          move    @team1,a0
         00000ef0 00000000! 
     344 00000f10     1821          movk    1,a1
     345 00000f20     6201          sll     a0,a1
     346                    
     347 00000f30     05a0          move    @PSTATUS2,a0            ;if opponent is human then don't
         00000f40 00000000! 
     348 00000f60     0b80          andi    011b,a0                 ;count wins for top five teams
         00000f70 fffffffc  
     349 00000f90     ca03          jrz     dplqt1cpu
     350 00000fa0     0b81          andni   (1<<_UTA) | (1<<_NY) | (1<<_POR) | (1<<_PHX) | (1<<_CHI),a1
         00000fb0 02320008  
     351 00000fd0           dplqt1cpu
     352 00000fd0     07a0          move    @player3_data+PR_TEAMSDEF,a0,L
         00000fe0 00000500- 
     353 00001000     5420          or      a1,a0
     354 00001010     0780          move    a0,@player3_data+PR_TEAMSDEF,L
         00001020 00000500- 
     355 00001040     07a0          move    @player4_data+PR_TEAMSDEF,a0,L
         00001050 000006d0- 
     356 00001070     5420          or      a1,a0
     357 00001080     0780          move    a0,@player4_data+PR_TEAMSDEF,L
         00001090 000006d0- 
     358 000010b0           dplqcont1
     359                    
     360 000010b0     0d5f          calla   dec_lastplay
         000010c0 00004c50' 
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE    9

     361                    
     362 000010e0     b7a0          move    *a13(PC_DATADDR),a0,L
         000010f0     0340  
     363 00001100                   PUSHP   a0
     364                    
     365 00001110     05a0          move    @PSTATUS,a0
         00001120 00000000! 
     366 00001140     1fe0          btst    0,a0
     367 00001150     ca0a          jrz     dplqno1
     368 00001160     05a0          move    @player1_data+PR_INIT1,a0
         00001170 00000040- 
     369 00001190     ce06          jrn     dplqno1
     370 000011a0     09e6          movi    player1_data,a6
         000011b0 00000000- 
     371 000011d0     0d5f          calla   save_record
         000011e0 000049b0' 
     372 00001200           dplqno1
     373 00001200     05a0          move    @PSTATUS,a0
         00001210 00000000! 
     374 00001230     1fc0          btst    1,a0
     375 00001240     ca0a          jrz     dplqno2
     376 00001250     05a0          move    @player2_data+PR_INIT1,a0
         00001260 00000210- 
     377 00001280     ce06          jrn     dplqno2
     378 00001290     09e6          movi    player2_data,a6
         000012a0 000001d0- 
     379 000012c0     0d5f          calla   save_record
         000012d0 000049b0' 
     380 000012f0           dplqno2
     381 000012f0     05a0          move    @PSTATUS,a0
         00001300 00000000! 
     382 00001320     1fa0          btst    2,a0
     383 00001330     ca0a          jrz     dplqno3
     384 00001340     05a0          move    @player3_data+PR_INIT1,a0
         00001350 000003e0- 
     385 00001370     ce06          jrn     dplqno3
     386 00001380     09e6          movi    player3_data,a6
         00001390 000003a0- 
     387 000013b0     0d5f          calla   save_record
         000013c0 000049b0' 
     388 000013e0           dplqno3
     389 000013e0     05a0          move    @PSTATUS,a0
         000013f0 00000000! 
     390 00001410     1f80          btst    3,a0
     391 00001420     ca0a          jrz     dplqno4
     392 00001430     05a0          move    @player4_data+PR_INIT1,a0
         00001440 000005b0- 
     393 00001460     ce06          jrn     dplqno4
     394 00001470     09e6          movi    player4_data,a6
         00001480 00000570- 
     395 000014a0     0d5f          calla   save_record
         000014b0 000049b0' 
     396 000014d0           dplqno4
     397                    
     398 000014d0     0d5f          calla   get_all_records                 ;resort players
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   10

         000014e0 00004de0' 
     399 00001500     0d5f          calla   sort_wins                       ;for new ranking
         00001510 00005240' 
     400                    
     401                    
     402 00001530     05a0          move    @PSTATUS,a0
         00001540 00000000! 
     403 00001560     1fe0          btst    0,a0
     404 00001570     ca0b          jrz     dplqno1b
     405 00001580     05a0          move    @player1_data+PR_INIT1,a0
         00001590 00000040- 
     406 000015b0     ce07          jrn     dplqno1b
     407 000015c0     09e0          movi    player1_data,a0
         000015d0 00000000- 
     408 000015f0     b20d          move    a0,*a13(PC_DATADDR),L           ;start of player data
         00001600     0340  
     409 00001610     0d3f          callr   get_player_record               ;re-calc rank etc..
         00001620     030c  
     410 00001630           dplqno1b
     411                    
     412 00001630     05a0          move    @PSTATUS,a0
         00001640 00000000! 
     413 00001660     1fc0          btst    1,a0
     414 00001670     ca0b          jrz     dplqno2b
     415 00001680     05a0          move    @player2_data+PR_INIT1,a0
         00001690 00000210- 
     416 000016b0     ce07          jrn     dplqno2b
     417 000016c0     09e0          movi    player2_data,a0
         000016d0 000001d0- 
     418 000016f0     b20d          move    a0,*a13(PC_DATADDR),L           ;start of player data
         00001700     0340  
     419 00001710     0d3f          callr   get_player_record               ;re-calc rank etc..
         00001720     02fc  
     420 00001730           dplqno2b
     421                    
     422 00001730     05a0          move    @PSTATUS,a0
         00001740 00000000! 
     423 00001760     1fa0          btst    2,a0
     424 00001770     ca0b          jrz     dplqno3b
     425 00001780     05a0          move    @player3_data+PR_INIT1,a0
         00001790 000003e0- 
     426 000017b0     ce07          jrn     dplqno3b
     427 000017c0     09e0          movi    player3_data,a0
         000017d0 000003a0- 
     428 000017f0     b20d          move    a0,*a13(PC_DATADDR),L           ;start of player data
         00001800     0340  
     429 00001810     0d3f          callr   get_player_record               ;re-calc rank etc..
         00001820     02ec  
     430 00001830           dplqno3b
     431                    
     432 00001830     05a0          move    @PSTATUS,a0
         00001840 00000000! 
     433 00001860     1f80          btst    3,a0
     434 00001870     ca0b          jrz     dplqno4b
     435 00001880     05a0          move    @player4_data+PR_INIT1,a0
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   11

         00001890 000005b0- 
     436 000018b0     ce07          jrn     dplqno4b
     437 000018c0     09e0          movi    player4_data,a0
         000018d0 00000570- 
     438 000018f0     b20d          move    a0,*a13(PC_DATADDR),L           ;start of player data
         00001900     0340  
     439 00001910     0d3f          callr   get_player_record               ;re-calc rank etc..
         00001920     02dc  
     440 00001930           dplqno4b
     441                    
     442                    
     443 00001930                   PULLP   a0
     444 00001940     b20d          move    a0,*a13(PC_DATADDR),L
         00001950     0340  
     445 00001960     0960          rets
     446                    
     447 00001970           copy_inits
     448 00001970     b4a0          move    *a5(PR_INIT1),a0                ;get teammates initials
         00001980     0040  
     449 00001990     cf0d          jrnn    dplqnot_cpu1
     450 000019a0     09c0          movi    'C'-'A',a0
         000019b0     0002  
     451 000019c0     b004          move    a0,*a4(PR_TMATEINIT1)
         000019d0     0090  
     452 000019e0     09c0          movi    'P'-'A',a0
         000019f0     000f  
     453 00001a00     b004          move    a0,*a4(PR_TMATEINIT2)
         00001a10     00a0  
     454 00001a20     09c0          movi    'U'-'A',a0
         00001a30     0014  
     455 00001a40     b004          move    a0,*a4(PR_TMATEINIT3)
         00001a50     00b0  
     456 00001a60     c00a          jruc    dplqcont01
     457 00001a70           dplqnot_cpu1
     458 00001a70     b004          move    a0,*a4(PR_TMATEINIT1)
         00001a80     0090  
     459 00001a90     b4a0          move    *a5(PR_INIT2),a0
         00001aa0     0050  
     460 00001ab0     b004          move    a0,*a4(PR_TMATEINIT2)
         00001ac0     00a0  
     461 00001ad0     b4a0          move    *a5(PR_INIT3),a0
         00001ae0     0060  
     462 00001af0     b004          move    a0,*a4(PR_TMATEINIT3)
         00001b00     00b0  
     463 00001b10           dplqcont01
     464                    
     465                    
     466 00001b10     b4c0          move    *a6(PR_INIT1),a0                ;get 1st opponents initials
         00001b20     0040  
     467 00001b30     cf0d          jrnn    dplqnot_cpu2
     468 00001b40     09c0          movi    'C'-'A',a0
         00001b50     0002  
     469 00001b60     b004          move    a0,*a4(PR_OP1INIT1)
         00001b70     00c0  
     470 00001b80     09c0          movi    'P'-'A',a0
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   12

         00001b90     000f  
     471 00001ba0     b004          move    a0,*a4(PR_OP1INIT2)
         00001bb0     00d0  
     472 00001bc0     09c0          movi    'U'-'A',a0
         00001bd0     0014  
     473 00001be0     b004          move    a0,*a4(PR_OP1INIT3)
         00001bf0     00e0  
     474 00001c00     c00a          jruc    dplqcont02
     475 00001c10           dplqnot_cpu2
     476 00001c10     b004          move    a0,*a4(PR_OP1INIT1)
         00001c20     00c0  
     477 00001c30     b4c0          move    *a6(PR_INIT2),a0
         00001c40     0050  
     478 00001c50     b004          move    a0,*a4(PR_OP1INIT2)
         00001c60     00d0  
     479 00001c70     b4c0          move    *a6(PR_INIT3),a0
         00001c80     0060  
     480 00001c90     b004          move    a0,*a4(PR_OP1INIT3)
         00001ca0     00e0  
     481 00001cb0           dplqcont02
     482                    
     483 00001cb0     b4e0          move    *a7(PR_INIT1),a0                ;get 2nd opponents initials
         00001cc0     0040  
     484 00001cd0     cf0d          jrnn    dplqnot_cpu3
     485 00001ce0     09c0          movi    'C'-'A',a0
         00001cf0     0002  
     486 00001d00     b004          move    a0,*a4(PR_OP2INIT1)
         00001d10     00f0  
     487 00001d20     09c0          movi    'P'-'A',a0
         00001d30     000f  
     488 00001d40     b004          move    a0,*a4(PR_OP2INIT2)
         00001d50     0100  
     489 00001d60     09c0          movi    'U'-'A',a0
         00001d70     0014  
     490 00001d80     b004          move    a0,*a4(PR_OP2INIT3)
         00001d90     0110  
     491 00001da0     0960          rets
     492 00001db0           dplqnot_cpu3
     493 00001db0     b004          move    a0,*a4(PR_OP2INIT1)
         00001dc0     00f0  
     494 00001dd0     b4e0          move    *a7(PR_INIT2),a0
         00001de0     0050  
     495 00001df0     b004          move    a0,*a4(PR_OP2INIT2)
         00001e00     0100  
     496 00001e10     b4e0          move    *a7(PR_INIT3),a0
         00001e20     0060  
     497 00001e30     b004          move    a0,*a4(PR_OP2INIT3)
         00001e40     0110  
     498 00001e50     0960          rets
     499                    
     500                    
     501                    
     502 00001e60            SUBR   clear_player_stats
     503                    
     504 00001e60     5600          clr     a0
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   13

     505 00001e70     09e1          movi    player_stats,a1
         00001e80 000009e0- 
     506 00001ea0     09d0          movi    PS_SIZE*4,b0
         00001eb0     0038  
     507 00001ec0           scfoclear_next
     508 00001ec0     9001          move    a0,*a1+
     509 00001ed0     3c50          dsj     b0,scfoclear_next
     510 00001ee0     0960          rets
     511                    
     512                    
     513                    
     514 00001ef0            SUBR   inc_player_stat
     515                    
     516 00001ef0     09ce          movi    PS_SIZE,a14
         00001f00     000e  
     517 00001f10     5fc1          mpyu    a14,a1                  ;player number * PS_SIZE
     518 00001f20     4020          add     a1,a0                   ;+ stat offset
     519 00001f30     2480          sll     4,a0                    ;x 16 bits
     520 00001f40     0b20          addi    player_stats,a0         ;+ base address
         00001f50 000009e0- 
     521 00001f70     840e          move    *a0,a14
     522 00001f80     102e          inc     a14
     523 00001f90     81c0          move    a14,*a0
     524 00001fa0     0960          rets
     525                    
     526                    
     527 00001fb0            SUBR   dec_player_stat
     528                    
     529 00001fb0     09ce          movi    PS_SIZE,a14
         00001fc0     000e  
     530 00001fd0     5fc1          mpyu    a14,a1                  ;player number * PS_SIZE
     531 00001fe0     4020          add     a1,a0                   ;+ stat offset
     532 00001ff0     2480          sll     4,a0                    ;x 16 bits
     533 00002000     0b20          addi    player_stats,a0         ;+ base address
         00002010 000009e0- 
     534 00002030     840e          move    *a0,a14
     535 00002040     142e          dec     a14
     536 00002050     81c0          move    a14,*a0
     537 00002060     0960          rets
     538                    
     539                    
     540                    
     541                    
     542 00002070            SUBRP  calc_checksum
     543                    
     544 00002070                   PUSH    a1
     545 00002080     5600          clr     a0
     546                    
     547 00002090     b4c1          move    *a6(PR_COUNT),a1
         000020a0     0000  
     548 000020b0     5620          xor     a1,a0
     549 000020c0     b4c1          move    *a6(PR_WON),a1
         000020d0     0010  
     550 000020e0     5620          xor     a1,a0
     551 000020f0     b4c1          move    *a6(PR_LOST),a1
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   14

         00002100     0020  
     552 00002110     5620          xor     a1,a0
     553 00002120     b4c1          move    *a6(PR_LASTPLAY),a1
         00002130     0030  
     554 00002140     5620          xor     a1,a0
     555 00002150     b4c1          move    *a6(PR_INIT1),a1
         00002160     0040  
     556 00002170     5620          xor     a1,a0
     557 00002180     b4c1          move    *a6(PR_INIT2),a1
         00002190     0050  
     558 000021a0     5620          xor     a1,a0
     559 000021b0     b4c1          move    *a6(PR_INIT3),a1
         000021c0     0060  
     560 000021d0     5620          xor     a1,a0
     561 000021e0     b4c1          move    *a6(PR_MONTH),a1
         000021f0     0070  
     562 00002200     5620          xor     a1,a0
     563 00002210     b4c1          move    *a6(PR_DAY),a1
         00002220     0080  
     564 00002230     5620          xor     a1,a0
     565 00002240     b4c1          move    *a6(PR_TMATEINIT1),a1
         00002250     0090  
     566 00002260     5620          xor     a1,a0
     567 00002270     b4c1          move    *a6(PR_TMATEINIT2),a1
         00002280     00a0  
     568 00002290     5620          xor     a1,a0
     569 000022a0     b4c1          move    *a6(PR_TMATEINIT3),a1
         000022b0     00b0  
     570 000022c0     5620          xor     a1,a0
     571 000022d0     b4c1          move    *a6(PR_OP1INIT1),a1
         000022e0     00c0  
     572 000022f0     5620          xor     a1,a0
     573 00002300     b4c1          move    *a6(PR_OP1INIT2),a1
         00002310     00d0  
     574 00002320     5620          xor     a1,a0
     575 00002330     b4c1          move    *a6(PR_OP1INIT3),a1
         00002340     00e0  
     576 00002350     5620          xor     a1,a0
     577 00002360     b4c1          move    *a6(PR_OP2INIT1),a1
         00002370     00f0  
     578 00002380     5620          xor     a1,a0
     579 00002390     b4c1          move    *a6(PR_OP2INIT2),a1
         000023a0     0100  
     580 000023b0     5620          xor     a1,a0
     581 000023c0     b4c1          move    *a6(PR_OP2INIT3),a1
         000023d0     0110  
     582 000023e0     5620          xor     a1,a0
     583 000023f0     b4c1          move    *a6(PR_PTEAM),a1
         00002400     0120  
     584 00002410     5620          xor     a1,a0
     585 00002420     b4c1          move    *a6(PR_OTEAM),a1
         00002430     0130  
     586 00002440     5620          xor     a1,a0
     587 00002450     b4c1          move    *a6(PR_OSCORE),a1
         00002460     0140  
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   15

     588 00002470     5620          xor     a1,a0
     589 00002480     b4c1          move    *a6(PR_PSCORE),a1
         00002490     0150  
     590 000024a0     5620          xor     a1,a0
     591 000024b0     b4c1          move    *a6(PR_TEAMSDEF),a1
         000024c0     0160  
     592 000024d0     5620          xor     a1,a0
     593 000024e0     b4c1          move    *a6(PR_TEAMSDEF+10h),a1
         000024f0     0170  
     594 00002500     5620          xor     a1,a0
     595 00002510     b4c1          move    *a6(PKDPR_WINSTREAK),a1
         00002520     009a  
     596 00002530     5620          xor     a1,a0
     597 00002540     0b80          andi    _8BITS,a0
         00002550 ffffff00  
     598 00002570                   PULL    a1
     599 00002580     0960          rets
     600                    
     601                    
     602                    
     603                    
     604 00002590            SUBRP  get_temp_record
     605                    
     606 00002590                   PUSH    a6,a7
     607 000025b0     09e6          movi    temp_record,a6
         000025c0 00000740- 
     608 000025e0     c002          jruc    ehrcstart
     609                    
     610 000025f0            SUBRP  get_plr_record
     611                    
     612 000025f0                   PUSH    a6,a7                           ;a6 = * player data
     613 00002610           ehrcstart
     614 00002610     09c1          movi    RECORD_SELECT,A1
         00002620     0040  
     615 00002630     0d5f          calla   SET_PAGE
         00002640 00000000! 
     616                    
     617 00002660     4d47          move    a10,a7
     618                    
     619 00002670     09c3          movi    PKDPR_SIZE/8,a3                 ;number bytes to fetch
         00002680     0015  
     620 00002690     09e2          movi    packed_record,a2
         000026a0 00000910- 
     621 000026c0           ehrcnext_word
     622 000026c0     0d5f          calla   RC_BYTEI
         000026d0 00000000! 
     623 000026f0     8c02          movb    a0,*a2
     624 00002700     1102          addk    8,a2
     625 00002710     3cc3          dsj     a3,ehrcnext_word
     626                    
     627 00002720     09e2          movi    packed_record,a2
         00002730 00000910- 
     628                    
     629                    
     630                    
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   16

     631 00002750     b441          move    *a2(PKDPR_COUNT),a1             ;total plays count
         00002760     0000  
     632 00002770     0b81          andi    _11BITS,a1
         00002780 fffff800  
     633 000027a0     b026          move    a1,*a6(PR_COUNT)
         000027b0     0000  
     634                    
     635 000027c0     b440          move    *a2(PKDPR_WON),a0
         000027d0     000b  
     636 000027e0     0b80          andi    _10BITS,a0
         000027f0 fffffc00  
     637 00002810     b006          move    a0,*a6(PR_WON)
         00002820     0010  
     638                    
     639 00002830     4401          sub     a0,a1                           ;total plays - wins = losses
     640                    
     641 00002840     b026          move    a1,*a6(PR_LOST)
         00002850     0020  
     642                    
     643 00002860     b440          move    *a2(PKDPR_LASTPLAY),a0
         00002870     0015  
     644 00002880     0b80          andi    _11BITS,a0
         00002890 fffff800  
     645 000028b0     b006          move    a0,*a6(PR_LASTPLAY)
         000028c0     0030  
     646                    
     647 000028d0     b440          move    *a2(PKDPR_INIT1),a0
         000028e0     0020  
     648 000028f0     0b80          andi    _5BITS,a0
         00002900 ffffffe0  
     649 00002920     b006          move    a0,*a6(PR_INIT1)
         00002930     0040  
     650                    
     651 00002940     b440          move    *a2(PKDPR_INIT2),a0
         00002950     0025  
     652 00002960     0b80          andi    _5BITS,a0
         00002970 ffffffe0  
     653 00002990     b006          move    a0,*a6(PR_INIT2)
         000029a0     0050  
     654                    
     655 000029b0     b440          move    *a2(PKDPR_INIT3),a0
         000029c0     002a  
     656 000029d0     0b80          andi    _5BITS,a0
         000029e0 ffffffe0  
     657 00002a00     b006          move    a0,*a6(PR_INIT3)
         00002a10     0060  
     658                    
     659 00002a20     b440          move    *a2(PKDPR_MONTH),a0
         00002a30     002f  
     660 00002a40     0b80          andi    _4BITS,a0
         00002a50 fffffff0  
     661 00002a70     b006          move    a0,*a6(PR_MONTH)
         00002a80     0070  
     662                    
     663 00002a90     b440          move    *a2(PKDPR_DAY),a0
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   17

         00002aa0     0033  
     664 00002ab0     0b80          andi    _5BITS,a0
         00002ac0 ffffffe0  
     665 00002ae0     b006          move    a0,*a6(PR_DAY)
         00002af0     0080  
     666                    
     667 00002b00     b440          move    *a2(PKDPR_TMATEINIT1),a0
         00002b10     0038  
     668 00002b20     0b80          andi    _5BITS,a0
         00002b30 ffffffe0  
     669 00002b50     b006          move    a0,*a6(PR_TMATEINIT1)
         00002b60     0090  
     670                    
     671 00002b70     b440          move    *a2(PKDPR_TMATEINIT2),a0
         00002b80     003d  
     672 00002b90     0b80          andi    _5BITS,a0
         00002ba0 ffffffe0  
     673 00002bc0     b006          move    a0,*a6(PR_TMATEINIT2)
         00002bd0     00a0  
     674                    
     675 00002be0     b440          move    *a2(PKDPR_TMATEINIT3),a0
         00002bf0     0042  
     676 00002c00     0b80          andi    _5BITS,a0
         00002c10 ffffffe0  
     677 00002c30     b006          move    a0,*a6(PR_TMATEINIT3)
         00002c40     00b0  
     678                    
     679 00002c50     b440          move    *a2(PKDPR_OP1INIT1),a0
         00002c60     0047  
     680 00002c70     0b80          andi    _5BITS,a0
         00002c80 ffffffe0  
     681 00002ca0     b006          move    a0,*a6(PR_OP1INIT1)
         00002cb0     00c0  
     682                    
     683 00002cc0     b440          move    *a2(PKDPR_OP1INIT2),a0
         00002cd0     004c  
     684 00002ce0     0b80          andi    _5BITS,a0
         00002cf0 ffffffe0  
     685 00002d10     b006          move    a0,*a6(PR_OP1INIT2)
         00002d20     00d0  
     686                    
     687 00002d30     b440          move    *a2(PKDPR_OP1INIT3),a0
         00002d40     0051  
     688 00002d50     0b80          andi    _5BITS,a0
         00002d60 ffffffe0  
     689 00002d80     b006          move    a0,*a6(PR_OP1INIT3)
         00002d90     00e0  
     690                    
     691 00002da0     b440          move    *a2(PKDPR_OP2INIT1),a0
         00002db0     0056  
     692 00002dc0     0b80          andi    _5BITS,a0
         00002dd0 ffffffe0  
     693 00002df0     b006          move    a0,*a6(PR_OP2INIT1)
         00002e00     00f0  
     694                    
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   18

     695 00002e10     b440          move    *a2(PKDPR_OP2INIT2),a0
         00002e20     005b  
     696 00002e30     0b80          andi    _5BITS,a0
         00002e40 ffffffe0  
     697 00002e60     b006          move    a0,*a6(PR_OP2INIT2)
         00002e70     0100  
     698                    
     699 00002e80     b440          move    *a2(PKDPR_OP2INIT3),a0
         00002e90     0060  
     700 00002ea0     0b80          andi    _5BITS,a0
         00002eb0 ffffffe0  
     701 00002ed0     b006          move    a0,*a6(PR_OP2INIT3)
         00002ee0     0110  
     702                    
     703 00002ef0     b440          move    *a2(PKDPR_PTEAM),a0
         00002f00     0065  
     704 00002f10     0b80          andi    _5BITS,a0
         00002f20 ffffffe0  
     705 00002f40     b006          move    a0,*a6(PR_PTEAM)
         00002f50     0120  
     706                    
     707 00002f60     b440          move    *a2(PKDPR_OTEAM),a0
         00002f70     006a  
     708 00002f80     0b80          andi    _5BITS,a0
         00002f90 ffffffe0  
     709 00002fb0     b006          move    a0,*a6(PR_OTEAM)
         00002fc0     0130  
     710                    
     711 00002fd0     b440          move    *a2(PKDPR_OSCORE),a0
         00002fe0     006f  
     712 00002ff0     0b80          andi    _8BITS,a0
         00003000 ffffff00  
     713 00003020     b006          move    a0,*a6(PR_OSCORE)
         00003030     0140  
     714                    
     715 00003040     b440          move    *a2(PKDPR_PSCORE),a0
         00003050     0077  
     716 00003060     0b80          andi    _8BITS,a0
         00003070 ffffff00  
     717 00003090     b006          move    a0,*a6(PR_PSCORE)
         000030a0     0150  
     718                    
     719 000030b0     b641          move    *a2(PKDPR_TEAMSDEF),a1,L
         000030c0     007f  
     720 000030d0     0b81          andi    _27BITS,a1
         000030e0 f8000000  
     721 00003100     b226          move    a1,*a6(PR_TEAMSDEF),L
         00003110     0160  
     722                    
     723 00003120     b440          move    *a2(PKDPR_WINSTREAK),a0
         00003130     009a  
     724 00003140     0b80          andi    _6BITS,a0
         00003150 ffffffc0  
     725 00003170     b006          move    a0,*a6(PR_WINSTREAK)
         00003180     01a0  
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   19

     726                    
     727 00003190                   PUSH    a2
     728 000031a0     5600          clr     a0
     729 000031b0     1b62          movk    27,a2
     730 000031c0           ehrcnext_team
     731 000031c0     2fe1          srl     1,a1
     732 000031d0     c901          jrnc    ehrcnot_def
     733 000031e0     1020          inc     a0                      ;teams defeated count ++
     734 000031f0           ehrcnot_def
     735 000031f0     3c82          dsj     a2,ehrcnext_team
     736 00003200     b006          move    a0,*a6(PR_NUMDEF)       ;number teams defeated
         00003210     0180  
     737 00003220                   PULL    a2
     738                    
     739 00003230     b440          move    *a2(PKDPR_CHECKSUM),a0
         00003240     00a0  
     740 00003250     0b80          andi    _8BITS,a0
         00003260 ffffff00  
     741 00003280     b006          move    a0,*a6(PR_CHECKSUM)
         00003290     01c0  
     742 000032a0     4c01          move    a0,a1
     743 000032b0     0d3f          callr   calc_checksum
         000032c0     feda  
     744 000032d0     4801          cmp     a0,a1
     745 000032e0     ca02          jreq    ehrcchecksum_ok
     746                    
     747                            .if     DEBUG
     748                            LOCKUP
     749                            eint
     750                            .endif
     751                    
     752 000032f0     0d3f          callr   clear_record            ;bad checksum, so delete record
         00003300     045b  
     753 00003310           ehrcchecksum_ok
     754 00003310                   PULL    a6,a7
     755 00003330     0960          rets
     756                    
     757                    
     758                    
     759                    
     760 00003340            SUBRP  put_temp_record
     761                    
     762 00003340                   PUSH    a6
     763 00003350     09e6          movi    temp_record,a6
         00003360 00000740- 
     764 00003380     c001          jruc    gawostart
     765                    
     766 00003390            SUBRP  put_plr_record
     767                    
     768 00003390                   PUSH    a6
     769 000033a0           gawostart
     770                    
     771 000033a0     09c1          movi    RECORD_SELECT,A1
         000033b0     0040  
     772 000033c0     0d5f          calla   SET_PAGE
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   20

         000033d0 00000000! 
     773                    
     774 000033f0     09e2          movi    packed_record,a2
         00003400 00000910- 
     775                    
     776 00003420     b4c1          move    *a6(PR_COUNT),a1
         00003430     0000  
     777 00003440     0b81          andi    _11BITS,a1
         00003450 fffff800  
     778 00003470     b022          move    a1,*a2(PKDPR_COUNT)
         00003480     0000  
     779                    
     780 00003490     b4c0          move    *a6(PR_WON),a0
         000034a0     0010  
     781 000034b0     0b80          andi    _10BITS,a0
         000034c0 fffffc00  
     782 000034e0     b002          move    a0,*a2(PKDPR_WON)
         000034f0     000b  
     783                    
     784 00003500     4401          sub     a0,a1
     785 00003510     b026          move    a1,*a6(PR_LOST)                 ;used for calc checksum
         00003520     0020  
     786                    
     787 00003530     b4c0          move    *a6(PR_LASTPLAY),a0
         00003540     0030  
     788 00003550     0b80          andi    _11BITS,a0
         00003560 fffff800  
     789 00003580     b002          move    a0,*a2(PKDPR_LASTPLAY)
         00003590     0015  
     790                    
     791 000035a0     b4c0          move    *a6(PR_INIT1),a0
         000035b0     0040  
     792 000035c0     0b80          andi    _5BITS,a0
         000035d0 ffffffe0  
     793 000035f0     b002          move    a0,*a2(PKDPR_INIT1)
         00003600     0020  
     794                    
     795 00003610     b4c0          move    *a6(PR_INIT2),a0
         00003620     0050  
     796 00003630     0b80          andi    _5BITS,a0
         00003640 ffffffe0  
     797 00003660     b002          move    a0,*a2(PKDPR_INIT2)
         00003670     0025  
     798                    
     799 00003680     b4c0          move    *a6(PR_INIT3),a0
         00003690     0060  
     800 000036a0     0b80          andi    _5BITS,a0
         000036b0 ffffffe0  
     801 000036d0     b002          move    a0,*a2(PKDPR_INIT3)
         000036e0     002a  
     802                    
     803 000036f0     b4c0          move    *a6(PR_MONTH),a0
         00003700     0070  
     804 00003710     0b80          andi    _4BITS,a0
         00003720 fffffff0  
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   21

     805 00003740     b002          move    a0,*a2(PKDPR_MONTH)
         00003750     002f  
     806                    
     807 00003760     b4c0          move    *a6(PR_DAY),a0
         00003770     0080  
     808 00003780     0b80          andi    _5BITS,a0
         00003790 ffffffe0  
     809 000037b0     b002          move    a0,*a2(PKDPR_DAY)
         000037c0     0033  
     810                    
     811 000037d0     b4c0          move    *a6(PR_TMATEINIT1),a0
         000037e0     0090  
     812 000037f0     0b80          andi    _5BITS,a0
         00003800 ffffffe0  
     813 00003820     b002          move    a0,*a2(PKDPR_TMATEINIT1)
         00003830     0038  
     814                    
     815 00003840     b4c0          move    *a6(PR_TMATEINIT2),a0
         00003850     00a0  
     816 00003860     0b80          andi    _5BITS,a0
         00003870 ffffffe0  
     817 00003890     b002          move    a0,*a2(PKDPR_TMATEINIT2)
         000038a0     003d  
     818                    
     819 000038b0     b4c0          move    *a6(PR_TMATEINIT3),a0
         000038c0     00b0  
     820 000038d0     0b80          andi    _5BITS,a0
         000038e0 ffffffe0  
     821 00003900     b002          move    a0,*a2(PKDPR_TMATEINIT3)
         00003910     0042  
     822                    
     823 00003920     b4c0          move    *a6(PR_OP1INIT1),a0
         00003930     00c0  
     824 00003940     0b80          andi    _5BITS,a0
         00003950 ffffffe0  
     825 00003970     b002          move    a0,*a2(PKDPR_OP1INIT1)
         00003980     0047  
     826                    
     827 00003990     b4c0          move    *a6(PR_OP1INIT2),a0
         000039a0     00d0  
     828 000039b0     0b80          andi    _5BITS,a0
         000039c0 ffffffe0  
     829 000039e0     b002          move    a0,*a2(PKDPR_OP1INIT2)
         000039f0     004c  
     830                    
     831 00003a00     b4c0          move    *a6(PR_OP1INIT3),a0
         00003a10     00e0  
     832 00003a20     0b80          andi    _5BITS,a0
         00003a30 ffffffe0  
     833 00003a50     b002          move    a0,*a2(PKDPR_OP1INIT3)
         00003a60     0051  
     834                    
     835 00003a70     b4c0          move    *a6(PR_OP2INIT1),a0
         00003a80     00f0  
     836 00003a90     0b80          andi    _5BITS,a0
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   22

         00003aa0 ffffffe0  
     837 00003ac0     b002          move    a0,*a2(PKDPR_OP2INIT1)
         00003ad0     0056  
     838                    
     839 00003ae0     b4c0          move    *a6(PR_OP2INIT2),a0
         00003af0     0100  
     840 00003b00     0b80          andi    _5BITS,a0
         00003b10 ffffffe0  
     841 00003b30     b002          move    a0,*a2(PKDPR_OP2INIT2)
         00003b40     005b  
     842                    
     843 00003b50     b4c0          move    *a6(PR_OP2INIT3),a0
         00003b60     0110  
     844 00003b70     0b80          andi    _5BITS,a0
         00003b80 ffffffe0  
     845 00003ba0     b002          move    a0,*a2(PKDPR_OP2INIT3)
         00003bb0     0060  
     846                    
     847 00003bc0     b4c0          move    *a6(PR_PTEAM),a0
         00003bd0     0120  
     848 00003be0     0b80          andi    _5BITS,a0
         00003bf0 ffffffe0  
     849 00003c10     b002          move    a0,*a2(PKDPR_PTEAM)
         00003c20     0065  
     850                    
     851 00003c30     b4c0          move    *a6(PR_OTEAM),a0
         00003c40     0130  
     852 00003c50     0b80          andi    _5BITS,a0
         00003c60 ffffffe0  
     853 00003c80     b002          move    a0,*a2(PKDPR_OTEAM)
         00003c90     006a  
     854                    
     855 00003ca0     b4c0          move    *a6(PR_OSCORE),a0
         00003cb0     0140  
     856 00003cc0     0b80          andi    _8BITS,a0
         00003cd0 ffffff00  
     857 00003cf0     b002          move    a0,*a2(PKDPR_OSCORE)
         00003d00     006f  
     858                    
     859 00003d10     b4c0          move    *a6(PR_PSCORE),a0
         00003d20     0150  
     860 00003d30     0b80          andi    _8BITS,a0
         00003d40 ffffff00  
     861 00003d60     b002          move    a0,*a2(PKDPR_PSCORE)
         00003d70     0077  
     862                    
     863 00003d80     b6c0          move    *a6(PR_TEAMSDEF),a0,L
         00003d90     0160  
     864 00003da0     0b80          andi    _27BITS,a0
         00003db0 f8000000  
     865 00003dd0     b202          move    a0,*a2(PKDPR_TEAMSDEF),L
         00003de0     007f  
     866                    
     867 00003df0     b4c0          move    *a6(PR_WINSTREAK),a0
         00003e00     01a0  
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   23

     868 00003e10     0b80          andi    _6BITS,a0
         00003e20 ffffffc0  
     869 00003e40     b002          move    a0,*a2(PKDPR_WINSTREAK)
         00003e50     009a  
     870                    
     871 00003e60     0d3f          callr   calc_checksum                   ;8 bit xor checksum
         00003e70     fe1f  
     872 00003e80     0b80          andi    _8BITS,a0
         00003e90 ffffff00  
     873 00003eb0     b002          move    a0,*a2(PKDPR_CHECKSUM)
         00003ec0     00a0  
     874                    
     875 00003ed0                   PUSH    a7
     876 00003ee0     4d47          move    a10,a7
     877                    
     878 00003ef0     09c3          movi    PKDPR_SIZE/8,a3                 ;number bytes to write
         00003f00     0015  
     879 00003f10     09e2          movi    packed_record,a2
         00003f20 00000910- 
     880 00003f40           gawonext_word
     881 00003f40     8e40          movb    *a2,a0
     882 00003f50     0d5f          calla   WC_BYTEI
         00003f60 00000000! 
     883 00003f80     1102          addk    8,a2
     884 00003f90     3cc3          dsj     a3,gawonext_word
     885                    
     886 00003fa0                   PULL    a7
     887 00003fb0                   PULL    a6
     888 00003fc0     0960          rets
     889                    
     890                    
     891                    
     892 00003fd0            SUBRP  find_record
     893                    
     894 00003fd0     09c1          movi    RECORD_SELECT,A1
         00003fe0     0040  
     895 00003ff0     0d5f          calla   SET_PAGE
         00004000 00000000! 
     896                    
     897 00004020     09cb          movi    NUM_PRECORDS,a11
         00004030     0122  
     898 00004040     09ea          movi    RECORD_ORIGIN,a10
         00004050 01400000  
     899 00004070           wzkssearch_loop
     900 00004070     0d3f          callr   get_temp_record         ;data in temp_record
         00004080     fe50  
     901 00004090     0d3f          callr   compare_record
         000040a0     0027  
     902 000040b0     cb01          jrne    wzksno_match
     903 000040c0     0960          rets
     904                    
     905 000040d0           wzksno_match
     906 000040d0     0b0a          addi    PKDPR_SIZE*2,a10        ;cmos words
         000040e0     0150  
     907 000040f0     3d2b          dsj     a11,wzkssearch_loop
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   24

     908 00004100     574a          clr     a10
     909 00004110     0960          rets
     910                    
     911                    
     912                    
     913 00004120            SUBRP  get_free_record
     914                    
     915 00004120     09c1          movi    RECORD_SELECT,A1
         00004130     0040  
     916 00004140     0d5f          calla   SET_PAGE
         00004150 00000000! 
     917                    
     918 00004170     09c8          movi    2048,a8                 ;last play count (max)
         00004180     0800  
     919 00004190     09cb          movi    NUM_PRECORDS,a11
         000041a0     0122  
     920 000041b0     09ea          movi    RECORD_ORIGIN,a10
         000041c0 01400000  
     921 000041e0     4d49          move    a10,a9                  ;least used record to date
     922 000041f0           efwisearch_loop
     923 000041f0     0d3f          callr   get_temp_record
         00004200     fe38  
     924 00004210     05a0          move    @temp_record+PR_COUNT,a0
         00004220 00000740- 
     925 00004240     ca0c          jrz     efwifree_record
     926 00004250     05a0          move    @temp_record+PR_LASTPLAY,a0
         00004260 00000770- 
     927                    
     928 00004280     4900          cmp     a8,a0                   ;a0-a8
     929 00004290     c902          jrhs    efwiskip                        ;skip if a0 >= a8
     930 000042a0     4c08          move    a0,a8
     931 000042b0     4d49          move    a10,a9                  ;least used record to date
     932 000042c0           efwiskip                                        ;(lowest lastplay count)
     933 000042c0     0b0a          addi    PKDPR_SIZE*2,a10        ;cmos words
         000042d0     0150  
     934 000042e0     3e0b          dsj     a11,efwisearch_loop
     935 000042f0     4d2a          move    a9,a10
     936 00004300     0960          rets
     937                    
     938 00004310           efwifree_record
     939 00004310     0960          rets
     940                    
     941                    
     942                    
     943 00004320            SUBRP  compare_record
     944                    
     945 00004320     05a1          move    @temp_record+PR_COUNT,a1        ;valid record?
         00004330 00000740- 
     946 00004350     ca24          jrz     ijasno_match
     947                    
     948 00004360     b4c0          move    *a6(PR_INIT1),a0
         00004370     0040  
     949 00004380     05a1          move    @temp_record+PR_INIT1,a1
         00004390 00000780- 
     950 000043b0     4801          cmp     a0,a1
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   25

     951 000043c0     cb1d          jrne    ijasno_match
     952                    
     953 000043d0     b4c0          move    *a6(PR_INIT2),a0
         000043e0     0050  
     954 000043f0     05a1          move    @temp_record+PR_INIT2,a1
         00004400 00000790- 
     955 00004420     4801          cmp     a0,a1
     956 00004430     cb16          jrne    ijasno_match
     957                    
     958 00004440     b4c0          move    *a6(PR_INIT3),a0
         00004450     0060  
     959 00004460     05a1          move    @temp_record+PR_INIT3,a1
         00004470 000007a0- 
     960 00004490     4801          cmp     a0,a1
     961 000044a0     cb0f          jrne    ijasno_match
     962                    
     963 000044b0     b4c0          move    *a6(PR_MONTH),a0
         000044c0     0070  
     964 000044d0     05a1          move    @temp_record+PR_MONTH,a1
         000044e0 000007b0- 
     965 00004500     4801          cmp     a0,a1
     966 00004510     cb08          jrne    ijasno_match
     967                    
     968 00004520     b4c0          move    *a6(PR_DAY),a0
         00004530     0080  
     969 00004540     05a1          move    @temp_record+PR_DAY,a1
         00004550 000007c0- 
     970 00004570     4801          cmp     a0,a1
     971 00004580     cb01          jrne    ijasno_match
     972 00004590     0960          rets                                    ;Z set
     973                    
     974 000045a0           ijasno_match
     975 000045a0     09c0          movi    1,a0                            ;clear Z
         000045b0     0001  
     976 000045c0     0960          rets
     977                    
     978                    
     979 000045d0            SUBRP  get_plr_rank
     980                    
     981 000045d0                   PUSH    a8
     982 000045e0     1822          movk    1,a2
     983 000045f0     09e9          movi    record_sort_ptrs,a9
         00004600 00000d60- 
     984 00004620           lpatloop
     985 00004620     8728          move    *a9,a8,L
     986 00004630     b500          move    *a8(RS_RECORD_NUM),a0
         00004640     0000  
     987 00004650     4880          cmp     a4,a0
     988 00004660     ca06          jreq    lpatfound_match
     989                    
     990 00004670     0b09          addi    20h,a9
         00004680     0020  
     991 00004690     1022          inc     a2
     992 000046a0     0b42          cmpi    NUM_PRECORDS,a2
         000046b0     fedd  
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   26

     993 000046c0     c2f5          jrls    lpatloop
     994 000046d0           lpatfound_match
     995 000046d0                   PULL    a8
     996 000046e0     0960          rets
     997                    
     998                    
     999 000046f0            SUBRP  get_player_record
    1000                    
    1001 000046f0     b7a6          move    *a13(PC_DATADDR),a6,L           ;start of player data
         00004700     0340  
    1002                    
    1003 00004710     0d3f          callr   find_record
         00004720     ff8a  
    1004 00004730     4d4a          move    a10,a10
    1005 00004740     ca0c          jrz     wafono_match
    1006 00004750     0d3f          callr   get_plr_record
         00004760     fde8  
    1007                    
    1008 00004770     09c4          movi    NUM_PRECORDS,a4
         00004780     0122  
    1009 00004790     4564          sub     a11,a4                          ;record number
    1010 000047a0     0d3f          callr   get_plr_rank
         000047b0     ffe1  
    1011 000047c0     b7a6          move    *a13(PC_DATADDR),a6,L           ;start of player data
         000047d0     0340  
    1012 000047e0     b046          move    a2,*a6(PR_RANK)
         000047f0     01b0  
    1013 00004800     0960          rets
    1014                    
    1015 00004810           wafono_match
    1016 00004810     5600          clr     a0
    1017 00004820     b006          move    a0,*a6(PR_COUNT)
         00004830     0000  
    1018 00004840     b006          move    a0,*a6(PR_WON)
         00004850     0010  
    1019 00004860     b006          move    a0,*a6(PR_LOST)
         00004870     0020  
    1020 00004880     b006          move    a0,*a6(PR_LASTPLAY)
         00004890     0030  
    1021 000048a0     b006          move    a0,*a6(PR_OSCORE)
         000048b0     0140  
    1022 000048c0     b006          move    a0,*a6(PR_PSCORE)
         000048d0     0150  
    1023 000048e0     b206          move    a0,*a6(PR_TEAMSDEF),L
         000048f0     0160  
    1024 00004900     b006          move    a0,*a6(PR_WINSTREAK)
         00004910     01a0  
    1025 00004920     b006          move    a0,*a6(PR_NUMDEF)
         00004930     0180  
    1026 00004940     b006          move    a0,*a6(PR_NUMDEFOLD)
         00004950     0190  
    1027                    
    1028 00004960     09c0          movi    300,a0
         00004970     012c  
    1029 00004980     b006          move    a0,*a6(PR_RANK)
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   27

         00004990     01b0  
    1030 000049a0     0960          rets
    1031                    
    1032                    
    1033                    
    1034 000049b0            SUBRP  save_record
    1035                    
    1036 000049b0     0d3f          callr   find_record
         000049c0     ff60  
    1037 000049d0     4d4a          move    a10,a10
    1038 000049e0     cb0c          jrnz    gkzjfound_match
    1039                    
    1040 000049f0     1820          movk    1,a0                    ;1st game
    1041 00004a00     b006          move    a0,*a6(PR_COUNT)
         00004a10     0000  
    1042                    
    1043 00004a20     09c0          movi    50,a0
         00004a30     0032  
    1044 00004a40     b006          move    a0,*a6(PR_LASTPLAY)
         00004a50     0030  
    1045                    
    1046 00004a60     0d3f          callr   get_free_record
         00004a70     ff6a  
    1047 00004a80     0d3f          callr   put_plr_record
         00004a90     fe8f  
    1048                    
    1049 00004aa0     0960          rets
    1050                    
    1051 00004ab0           gkzjfound_match
    1052                    
    1053 00004ab0     b4c0          move    *a6(PR_COUNT),a0
         00004ac0     0000  
    1054 00004ad0     0b40          cmpi    2047,a0
         00004ae0     f800  
    1055 00004af0     c903          jrhs    gkzjat_max
    1056 00004b00     1020          inc     a0                      ;play count (check for wrap!!!)
    1057 00004b10     b006          move    a0,*a6(PR_COUNT)
         00004b20     0000  
    1058 00004b30           gkzjat_max
    1059 00004b30     b4c0          move    *a6(PR_LASTPLAY),a0
         00004b40     0030  
    1060 00004b50     0b00          addi    50,a0
         00004b60     0032  
    1061 00004b70     0b40          cmpi    2047,a0
         00004b80     f800  
    1062 00004b90     c602          jrle    gkzjok
    1063 00004ba0     09c0          movi    2047,a0
         00004bb0     07ff  
    1064 00004bc0           gkzjok
    1065 00004bc0     b006          move    a0,*a6(PR_LASTPLAY)     ;zero lastplay count
         00004bd0     0030  
    1066                    
    1067 00004be0     b4c0          move    *a6(PR_NUMDEF),a0
         00004bf0     0180  
    1068 00004c00     b006          move    a0,*a6(PR_NUMDEFOLD)
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   28

         00004c10     0190  
    1069                    
    1070 00004c20     0d3f          callr   put_plr_record
         00004c30     fe75  
    1071                    
    1072 00004c40     0960          rets
    1073                    
    1074                    
    1075                    
    1076 00004c50            SUBRP  dec_lastplay
    1077                    
    1078 00004c50     09cb          movi    NUM_PRECORDS,a11
         00004c60     0122  
    1079 00004c70     09ea          movi    RECORD_ORIGIN,a10
         00004c80 01400000  
    1080 00004ca0           xeondec_loop
    1081 00004ca0                   PUSH    a10,a11
    1082                    
    1083 00004cc0     0d3f          callr   get_temp_record         ;read record
         00004cd0     fd8b  
    1084 00004ce0     05a0          move    @temp_record+PR_LASTPLAY,a0
         00004cf0 00000770- 
    1085 00004d10     ca06          jrz     xeonat_min
    1086 00004d20     1420          dec     a0
    1087 00004d30     0580          move    a0,@temp_record+PR_LASTPLAY
         00004d40 00000770- 
    1088 00004d60     0d3f          callr   put_temp_record         ;write out record
         00004d70     fe5c  
    1089 00004d80           xeonat_min
    1090                    
    1091 00004d80                   PULL    a10,a11
    1092 00004da0     0b0a          addi    PKDPR_SIZE*2,a10        ;cmos words
         00004db0     0150  
    1093 00004dc0     3e6b          dsj     a11,xeondec_loop
    1094 00004dd0     0960          rets
    1095                    
    1096                    
    1097 00004de0            SUBR   get_all_records
    1098                    
    1099 00004de0                   PUSH    a12
    1100                    
    1101 00004df0     09ec          movi    record_sort_ptrs,a12
         00004e00 00000d60- 
    1102 00004e20     576b          clr     a11
    1103 00004e30     09ea          movi    RECORD_ORIGIN,a10
         00004e40 01400000  
    1104 00004e60     09e9          movi    record_sort_ram,a9
         00004e70 01200000  
    1105 00004e90           kepwget_next
    1106 00004e90                   PUSH    a9,a10,a11,a12
    1107                    
    1108 00004eb0     0d3f          callr   get_temp_record         ;read record
         00004ec0     fd6c  
    1109                    
    1110 00004ed0                   PULL    a9,a10,a11,a12
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   29

    1111                    
    1112 00004ef0     b169          move    a11,*a9(RS_RECORD_NUM)
         00004f00     0000  
    1113                    
    1114 00004f10     05a0          move    @temp_record+PR_WON,a0          ;wins
         00004f20 00000750- 
    1115 00004f40     b009          move    a0,*a9(RS_WINS)
         00004f50     0020  
    1116 00004f60     cb0d          jrnz    kepwhas_wins
    1117                    
    1118 00004f70     05a0          move    @temp_record+PR_COUNT,a0        ;games played
         00004f80 00000740- 
    1119 00004fa0     b009          move    a0,*a9(RS_GAMES_PLAYED)
         00004fb0     0010  
    1120 00004fc0     5600          clr     a0
    1121 00004fd0     b009          move    a0,*a9(RS_AVERAGE)
         00004fe0     0030  
    1122 00004ff0     b009          move    a0,*a9(RS_TEAMSDEF)
         00005000     0040  
    1123 00005010     b009          move    a0,*a9(RS_STREAK)
         00005020     0050  
    1124 00005030     c010          jruc    kepwcont1
    1125                    
    1126 00005040           kepwhas_wins
    1127 00005040     09c1          movi    1000,a1
         00005050     03e8  
    1128 00005060     5e01          mpyu    a0,a1                           ;wins*1000
    1129 00005070     05a0          move    @temp_record+PR_COUNT,a0        ;games played
         00005080 00000740- 
    1130 000050a0     b009          move    a0,*a9(RS_GAMES_PLAYED)
         000050b0     0010  
    1131 000050c0     5a01          divu    a0,a1                           ;wins*1000/played
    1132 000050d0     b029          move    a1,*a9(RS_AVERAGE)
         000050e0     0030  
    1133                    
    1134                    
    1135 000050f0     05a0          move    @temp_record+PR_NUMDEF,a0       ;number teams defeated
         00005100 000008c0- 
    1136 00005120     b009          move    a0,*a9(RS_TEAMSDEF)
         00005130     0040  
    1137 00005140           kepwcont1
    1138 00005140     05a0          move    @temp_record+PR_WINSTREAK,a0
         00005150 000008e0- 
    1139 00005170     b009          move    a0,*a9(RS_STREAK)
         00005180     0050  
    1140                    
    1141 00005190     932c          move    a9,*a12+,L
    1142 000051a0     0b09          addi    RS_SIZE,a9
         000051b0     0060  
    1143 000051c0     0b0a          addi    PKDPR_SIZE*2,a10        ;cmos words
         000051d0     0150  
    1144 000051e0     102b          inc     a11
    1145 000051f0     0b4b          cmpi    NUM_PRECORDS,a11
         00005200     fedd  
    1146 00005210     c8c7          jrlo    kepwget_next
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   30

    1147                    
    1148 00005220                   PULL    a12                     ;process SP
    1149 00005230     0960          rets
    1150                    
    1151                    
    1152                    
    1153 00005240            SUBRP  sort_wins
    1154                    
    1155 00005240     09cb          movi    NUM_PRECORDS-1,a11
         00005250     0121  
    1156 00005260           uxpgloop1
    1157                    
    1158 00005260     09ca          movi    NUM_PRECORDS-1,a10
         00005270     0121  
    1159                    
    1160 00005280     09e9          movi    record_sort_ptrs,a9
         00005290 00000d60- 
    1161                    
    1162 000052b0     57ce          clr     a14
    1163 000052c0           uxpgloop2
    1164 000052c0     8724          move    *a9,a4,L
    1165 000052d0     b725          move    *a9(20h),a5,L
         000052e0     0020  
    1166                    
    1167 000052f0     b480          move    *a4(RS_WINS),a0
         00005300     0020  
    1168 00005310     b4a1          move    *a5(RS_WINS),a1
         00005320     0020  
    1169 00005330     4820          cmp     a1,a0                           ;a0-a1
    1170 00005340     c312          jrhi    uxpgno_swap
    1171 00005350     c80d          jrlo    uxpgswap
    1172                    
    1173 00005360     b480          move    *a4(RS_AVERAGE),a0
         00005370     0030  
    1174 00005380     b4a1          move    *a5(RS_AVERAGE),a1
         00005390     0030  
    1175 000053a0     4820          cmp     a1,a0                           ;a0-a1
    1176 000053b0     c30b          jrhi    uxpgno_swap
    1177 000053c0     c806          jrlo    uxpgswap
    1178                    
    1179                    
    1180 000053d0     b480          move    *a4(RS_TEAMSDEF),a0
         000053e0     0040  
    1181 000053f0     b4a1          move    *a5(RS_TEAMSDEF),a1
         00005400     0040  
    1182 00005410     4820          cmp     a1,a0                           ;a0-a1
    1183 00005420     c904          jrhs    uxpgno_swap
    1184                    
    1185 00005430           uxpgswap
    1186 00005430     182e          movk    1,a14
    1187                    
    1188 00005440     82a9          move    a5,*a9,L
    1189 00005450     b289          move    a4,*a9(20h),L
         00005460     0020  
    1190                    
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   31

    1191 00005470           uxpgno_swap
    1192 00005470     0b09          addi    20h,a9
         00005480     0020  
    1193                    
    1194 00005490     3fca          dsj     a10,uxpgloop2
    1195 000054a0     4dce          move    a14,a14
    1196 000054b0     ca02          jrz     uxpgdone
    1197 000054c0     0d8b          dsj     a11,uxpgloop1
         000054d0     ffd8  
    1198                    
    1199 000054e0           uxpgdone
    1200 000054e0     0960          rets
    1201                    
    1202                    
    1203 000054f0            SUBRP  sort_streak
    1204                    
    1205 000054f0     09cb          movi    NUM_PRECORDS-1,a11
         00005500     0121  
    1206 00005510           jkxfloop1
    1207                    
    1208 00005510     09ca          movi    NUM_PRECORDS-1,a10
         00005520     0121  
    1209                    
    1210 00005530     09e9          movi    record_sort_ptrs,a9
         00005540 00000d60- 
    1211                    
    1212 00005560     57ce          clr     a14
    1213 00005570           jkxfloop2
    1214 00005570     8724          move    *a9,a4,L
    1215 00005580     b725          move    *a9(20h),a5,L
         00005590     0020  
    1216                    
    1217 000055a0     b480          move    *a4(RS_STREAK),a0
         000055b0     0050  
    1218 000055c0     b4a1          move    *a5(RS_STREAK),a1
         000055d0     0050  
    1219 000055e0     4820          cmp     a1,a0                           ;a0-a1
    1220 000055f0     c319          jrhi    jkxfno_swap
    1221 00005600     c814          jrlo    jkxfswap
    1222                    
    1223 00005610     b480          move    *a4(RS_WINS),a0
         00005620     0020  
    1224 00005630     b4a1          move    *a5(RS_WINS),a1
         00005640     0020  
    1225 00005650     4820          cmp     a1,a0                           ;a0-a1
    1226 00005660     c312          jrhi    jkxfno_swap
    1227 00005670     c80d          jrlo    jkxfswap
    1228                    
    1229 00005680     b480          move    *a4(RS_AVERAGE),a0
         00005690     0030  
    1230 000056a0     b4a1          move    *a5(RS_AVERAGE),a1
         000056b0     0030  
    1231 000056c0     4820          cmp     a1,a0                           ;a0-a1
    1232 000056d0     c30b          jrhi    jkxfno_swap
    1233 000056e0     c806          jrlo    jkxfswap
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   32

    1234                    
    1235                    
    1236 000056f0     b480          move    *a4(RS_TEAMSDEF),a0
         00005700     0040  
    1237 00005710     b4a1          move    *a5(RS_TEAMSDEF),a1
         00005720     0040  
    1238 00005730     4820          cmp     a1,a0                           ;a0-a1
    1239 00005740     c904          jrhs    jkxfno_swap
    1240                    
    1241 00005750           jkxfswap
    1242 00005750     182e          movk    1,a14
    1243                    
    1244 00005760     82a9          move    a5,*a9,L
    1245 00005770     b289          move    a4,*a9(20h),L
         00005780     0020  
    1246                    
    1247 00005790           jkxfno_swap
    1248 00005790     0b09          addi    20h,a9
         000057a0     0020  
    1249                    
    1250 000057b0     0d8a          dsj     a10,jkxfloop2
         000057c0     ffda  
    1251 000057d0     4dce          move    a14,a14
    1252 000057e0     ca02          jrz     jkxfdone
    1253 000057f0     0d8b          dsj     a11,jkxfloop1
         00005800     ffd0  
    1254                    
    1255 00005810           jkxfdone
    1256 00005810     0960          rets
    1257                    
    1258                    
    1259 00005820            SUBRP  sort_exp
    1260                    
    1261 00005820     09cb          movi    NUM_PRECORDS-1,a11
         00005830     0121  
    1262 00005840           hipgloop1
    1263                    
    1264 00005840     09ca          movi    NUM_PRECORDS-1,a10
         00005850     0121  
    1265 00005860     09e9          movi    record_sort_ptrs,a9
         00005870 00000d60- 
    1266                    
    1267 00005890     57ce          clr     a14
    1268 000058a0           hipgloop2
    1269 000058a0     8724          move    *a9,a4,L
    1270 000058b0     b725          move    *a9(20h),a5,L
         000058c0     0020  
    1271                    
    1272 000058d0     b480          move    *a4(RS_GAMES_PLAYED),a0
         000058e0     0010  
    1273 000058f0     b4a1          move    *a5(RS_GAMES_PLAYED),a1
         00005900     0010  
    1274 00005910     4820          cmp     a1,a0                           ;a0-a1
    1275 00005920     c319          jrhi    hipgno_swap
    1276 00005930     c814          jrlo    hipgswap
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   33

    1277                    
    1278 00005940     b480          move    *a4(RS_WINS),a0
         00005950     0020  
    1279 00005960     b4a1          move    *a5(RS_WINS),a1
         00005970     0020  
    1280 00005980     4820          cmp     a1,a0                           ;a0-a1
    1281 00005990     c312          jrhi    hipgno_swap
    1282 000059a0     c80d          jrlo    hipgswap
    1283                    
    1284 000059b0     b480          move    *a4(RS_AVERAGE),a0
         000059c0     0030  
    1285 000059d0     b4a1          move    *a5(RS_AVERAGE),a1
         000059e0     0030  
    1286 000059f0     4820          cmp     a1,a0                           ;a0-a1
    1287 00005a00     c30b          jrhi    hipgno_swap
    1288 00005a10     c806          jrlo    hipgswap
    1289                    
    1290                    
    1291 00005a20     b480          move    *a4(RS_TEAMSDEF),a0
         00005a30     0040  
    1292 00005a40     b4a1          move    *a5(RS_TEAMSDEF),a1
         00005a50     0040  
    1293 00005a60     4820          cmp     a1,a0                           ;a0-a1
    1294 00005a70     c904          jrhs    hipgno_swap
    1295                    
    1296 00005a80           hipgswap
    1297 00005a80     182e          movk    1,a14
    1298                    
    1299 00005a90     82a9          move    a5,*a9,L
    1300 00005aa0     b289          move    a4,*a9(20h),L
         00005ab0     0020  
    1301                    
    1302 00005ac0           hipgno_swap
    1303 00005ac0     0b09          addi    20h,a9
         00005ad0     0020  
    1304 00005ae0     0d8a          dsj     a10,hipgloop2
         00005af0     ffda  
    1305 00005b00     4dce          move    a14,a14
    1306 00005b10     ca02          jrz     hipgdone
    1307 00005b20     0d8b          dsj     a11,hipgloop1
         00005b30     ffd0  
    1308                    
    1309 00005b40           hipgdone
    1310 00005b40     0960          rets
    1311                    
    1312                    
    1313 00005b50            SUBRP  sort_champs
    1314                    
    1315 00005b50     09cb          movi    NUM_PRECORDS-1,a11
         00005b60     0121  
    1316 00005b70           gazyloop1
    1317                    
    1318 00005b70     09ca          movi    NUM_PRECORDS-1,a10
         00005b80     0121  
    1319 00005b90     09e9          movi    record_sort_ptrs,a9
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   34

         00005ba0 00000d60- 
    1320                    
    1321 00005bc0     57ce          clr     a14
    1322 00005bd0           gazyloop2
    1323 00005bd0     8724          move    *a9,a4,L
    1324 00005be0     b725          move    *a9(20h),a5,L
         00005bf0     0020  
    1325                    
    1326 00005c00     b480          move    *a4(RS_TEAMSDEF),a0
         00005c10     0040  
    1327 00005c20     b4a1          move    *a5(RS_TEAMSDEF),a1
         00005c30     0040  
    1328 00005c40     4820          cmp     a1,a0                           ;a0-a1
    1329 00005c50     c312          jrhi    gazyno_swap
    1330 00005c60     c80d          jrlo    gazyswap
    1331                    
    1332 00005c70     b480          move    *a4(RS_WINS),a0
         00005c80     0020  
    1333 00005c90     b4a1          move    *a5(RS_WINS),a1
         00005ca0     0020  
    1334 00005cb0     4820          cmp     a1,a0                           ;a0-a1
    1335 00005cc0     c30b          jrhi    gazyno_swap
    1336 00005cd0     c806          jrlo    gazyswap
    1337                    
    1338 00005ce0     b480          move    *a4(RS_AVERAGE),a0
         00005cf0     0030  
    1339 00005d00     b4a1          move    *a5(RS_AVERAGE),a1
         00005d10     0030  
    1340 00005d20     4820          cmp     a1,a0                           ;a0-a1
    1341 00005d30     c904          jrhs    gazyno_swap
    1342                    
    1343 00005d40           gazyswap
    1344 00005d40     182e          movk    1,a14
    1345                    
    1346 00005d50     82a9          move    a5,*a9,L
    1347 00005d60     b289          move    a4,*a9(20h),L
         00005d70     0020  
    1348                    
    1349 00005d80           gazyno_swap
    1350 00005d80     0b09          addi    20h,a9
         00005d90     0020  
    1351 00005da0     3fca          dsj     a10,gazyloop2
    1352 00005db0     4dce          move    a14,a14
    1353 00005dc0     ca02          jrz     gazydone
    1354 00005dd0     0d8b          dsj     a11,gazyloop1
         00005de0     ffd8  
    1355                    
    1356 00005df0           gazydone
    1357 00005df0     0960          rets
    1358                    
    1359                    
    1360 00005e00            SUBRP  sort_losses
    1361                    
    1362 00005e00     09cb          movi    NUM_PRECORDS-1,a11
         00005e10     0121  
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   35

    1363 00005e20           msabloop1
    1364                    
    1365                    
    1366 00005e20     09ca          movi    NUM_PRECORDS-1,a10
         00005e30     0121  
    1367 00005e40     09e9          movi    record_sort_ptrs,a9
         00005e50 00000d60- 
    1368                    
    1369 00005e70     57ce          clr     a14
    1370 00005e80           msabloop2
    1371 00005e80     8724          move    *a9,a4,L
    1372 00005e90     b725          move    *a9(20h),a5,L
         00005ea0     0020  
    1373                    
    1374 00005eb0     b480          move    *a4(RS_GAMES_PLAYED),a0
         00005ec0     0010  
    1375 00005ed0     ca24          jrz     msabswap
    1376 00005ee0     0b40          cmpi    5,a0
         00005ef0     fffa  
    1377 00005f00     c821          jrlo    msabswap
    1378 00005f10     b4a0          move    *a5(RS_GAMES_PLAYED),a0
         00005f20     0010  
    1379 00005f30     ca22          jrz     msabno_swap
    1380 00005f40     0b40          cmpi    5,a0
         00005f50     fffa  
    1381 00005f60     c81f          jrlo    msabno_swap
    1382                    
    1383 00005f70     b480          move    *a4(RS_AVERAGE),a0
         00005f80     0030  
    1384 00005f90     b4a1          move    *a5(RS_AVERAGE),a1
         00005fa0     0030  
    1385 00005fb0     4820          cmp     a1,a0                           ;a0-a1
    1386 00005fc0     c819          jrlo    msabno_swap
    1387 00005fd0     c314          jrhi    msabswap
    1388                    
    1389 00005fe0     b480          move    *a4(RS_GAMES_PLAYED),a0
         00005ff0     0010  
    1390 00006000     b482          move    *a4(RS_WINS),a2
         00006010     0020  
    1391 00006020     4440          sub     a2,a0
    1392                    
    1393 00006030     b4a1          move    *a5(RS_GAMES_PLAYED),a1
         00006040     0010  
    1394 00006050     b4a2          move    *a5(RS_WINS),a2
         00006060     0020  
    1395 00006070     4441          sub     a2,a1
    1396 00006080     4820          cmp     a1,a0                           ;a0-a1
    1397 00006090     c30c          jrhi    msabno_swap
    1398 000060a0     c807          jrlo    msabswap
    1399                    
    1400 000060b0     b480          move    *a4(RS_TEAMSDEF),a0
         000060c0     0040  
    1401 000060d0     b4a1          move    *a5(RS_TEAMSDEF),a1
         000060e0     0040  
    1402 000060f0     4820          cmp     a1,a0                           ;a0-a1
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   36

    1403 00006100     c805          jrlo    msabno_swap
    1404 00006110     0300          jrhi    msabswap
    1405                    
    1406 00006120           msabswap
    1407 00006120     182e          movk    1,a14
    1408                    
    1409 00006130     82a9          move    a5,*a9,L
    1410 00006140     b289          move    a4,*a9(20h),L
         00006150     0020  
    1411                    
    1412 00006160           msabno_swap
    1413 00006160     0b09          addi    20h,a9
         00006170     0020  
    1414 00006180     0d8a          dsj     a10,msabloop2
         00006190     ffce  
    1415 000061a0     4dce          move    a14,a14
    1416 000061b0     ca02          jrz     msabdone
    1417 000061c0     0d8b          dsj     a11,msabloop1
         000061d0     ffc4  
    1418                    
    1419 000061e0           msabdone
    1420 000061e0     0960          rets
    1421                    
    1422                    
    1423 000061f0            SUBR   calc_num_defeated
    1424                    
    1425 000061f0                   PUSH    a1,a2
    1426 00006210     5600          clr     a0
    1427 00006220     1b62          movk    27,a2
    1428 00006230           uqdpnext_team
    1429 00006230     2fe1          srl     1,a1
    1430 00006240     c901          jrnc    uqdpnot_def
    1431 00006250     1020          inc     a0                      ;teams defeated count ++
    1432 00006260           uqdpnot_def
    1433 00006260     3c82          dsj     a2,uqdpnext_team
    1434 00006270                   PULL    a1,a2
    1435 00006290     0960          rets
    1436                    
    1437                    
    1438                    
    1439 000062a0            SUBRP  clear_player_records
    1440                    
    1441 000062a0     5600          clr     a0
    1442 000062b0     09c1          movi    PR_SIZE/16,a1
         000062c0     001d  
    1443 000062d0     09e2          movi    temp_record,a2
         000062e0 00000740- 
    1444 00006300           uywqclrit
    1445 00006300     9002          move    a0,*a2+
    1446 00006310     3c41          dsj     a1,uywqclrit
    1447                    
    1448 00006320     09cb          movi    NUM_PRECORDS,a11
         00006330     0122  
    1449 00006340     09ea          movi    RECORD_ORIGIN,a10
         00006350 01400000  
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   37

    1450 00006370           uywqclear_loop
    1451 00006370                   PUSH    a10,a11
    1452                    
    1453 00006390     0d3f          callr   put_temp_record         ;write out record
         000063a0     fcf9  
    1454                    
    1455 000063b0                   PULL    a10,a11
    1456 000063d0     0b0a          addi    PKDPR_SIZE*2,a10        ;cmos words
         000063e0     0150  
    1457 000063f0     3d2b          dsj     a11,uywqclear_loop
    1458                    
    1459                    
    1460                    
    1461 00006400     1aeb          movk    23,a11
    1462                    
    1463 00006410     09ea          movi    RECORD_ORIGIN,a10
         00006420 01400000  
    1464 00006440     09e9          movi    uywqdefault_records,a9
         00006450 00006bd0' 
    1465 00006470           uywqinit_loop
    1466 00006470                   PUSH    a9,a10,a11
    1467                    
    1468 00006490     8f20          movb    *a9,a0
    1469 000064a0     0be0          subi    'A',a0
         000064b0     ffbe  
    1470 000064c0     0580          move    a0,@temp_record+PR_INIT1
         000064d0 00000780- 
    1471                    
    1472 000064f0     af20          movb    *a9(8h),a0
         00006500     0008  
    1473 00006510     0be0          subi    'A',a0
         00006520     ffbe  
    1474 00006530     0580          move    a0,@temp_record+PR_INIT2
         00006540 00000790- 
    1475                    
    1476 00006560     af20          movb    *a9(10h),a0
         00006570     0010  
    1477 00006580     0be0          subi    'A',a0
         00006590     ffbe  
    1478 000065a0     0580          move    a0,@temp_record+PR_INIT3
         000065b0 000007a0- 
    1479                    
    1480 000065d0     b520          move    *a9(20h),a0
         000065e0     0020  
    1481 000065f0     1420          dec     a0
    1482 00006600     0580          move    a0,@temp_record+PR_MONTH
         00006610 000007b0- 
    1483                    
    1484 00006630     b520          move    *a9(30h),a0
         00006640     0030  
    1485 00006650     1420          dec     a0
    1486 00006660     0580          move    a0,@temp_record+PR_DAY
         00006670 000007c0- 
    1487                    
    1488 00006690     b520          move    *a9(40h),a0
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   38

         000066a0     0040  
    1489 000066b0     0580          move    a0,@temp_record+PR_COUNT        ;games played
         000066c0 00000740- 
    1490                    
    1491 000066e0     b520          move    *a9(50h),a0
         000066f0     0050  
    1492 00006700     0580          move    a0,@temp_record+PR_WON          ;wins
         00006710 00000750- 
    1493                    
    1494 00006730     b520          move    *a9(60h),a0
         00006740     0060  
    1495 00006750     0580          move    a0,@temp_record+PR_WINSTREAK
         00006760 000008e0- 
    1496                    
    1497 00006780     b720          move    *a9(70h),a0,L
         00006790     0070  
    1498 000067a0     0780          move    a0,@temp_record+PR_TEAMSDEF,L
         000067b0 000008a0- 
    1499                    
    1500 000067d0     09c0          movi    2047,a0
         000067e0     07ff  
    1501 000067f0     0580          move    a0,@temp_record+PR_LASTPLAY
         00006800 00000770- 
    1502                    
    1503 00006820     1840          movk    'C'-'A',a0
    1504 00006830     0580          move    a0,@temp_record+PR_TMATEINIT1
         00006840 000007d0- 
    1505 00006860     0580          move    a0,@temp_record+PR_OP1INIT1
         00006870 00000800- 
    1506 00006890     0580          move    a0,@temp_record+PR_OP2INIT1
         000068a0 00000830- 
    1507 000068c0     19e0          movk    'P'-'A',a0
    1508 000068d0     0580          move    a0,@temp_record+PR_TMATEINIT2
         000068e0 000007e0- 
    1509 00006900     0580          move    a0,@temp_record+PR_OP1INIT2
         00006910 00000810- 
    1510 00006930     0580          move    a0,@temp_record+PR_OP2INIT2
         00006940 00000840- 
    1511 00006960     1a80          movk    'U'-'A',a0
    1512 00006970     0580          move    a0,@temp_record+PR_TMATEINIT3
         00006980 000007f0- 
    1513 000069a0     0580          move    a0,@temp_record+PR_OP1INIT3
         000069b0 00000820- 
    1514 000069d0     0580          move    a0,@temp_record+PR_OP2INIT3
         000069e0 00000850- 
    1515                    
    1516 00006a00     1860          movk    3,a0                            ;chicago
    1517 00006a10     0580          move    a0,@temp_record+PR_PTEAM
         00006a20 00000860- 
    1518 00006a40     18e0          movk    7,a0                            ;detroit
    1519 00006a50     0580          move    a0,@temp_record+PR_OTEAM
         00006a60 00000870- 
    1520                    
    1521 00006a80     09c0          movi    137,a0
         00006a90     0089  
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   39

    1522 00006aa0     0580          move    a0,@temp_record+PR_PSCORE
         00006ab0 00000890- 
    1523 00006ad0     09c0          movi    86,a0
         00006ae0     0056  
    1524 00006af0     0580          move    a0,@temp_record+PR_OSCORE
         00006b00 00000880- 
    1525                    
    1526 00006b20     0d3f          callr   put_temp_record
         00006b30     fc80  
    1527 00006b40                   PULL    a9,a10,a11
    1528                    
    1529 00006b60     0b09          addi    9*10h,a9
         00006b70     0090  
    1530 00006b80     0b0a          addi    PKDPR_SIZE*2,a10        ;cmos words
         00006b90     0150  
    1531 00006ba0     0d8b          dsj     a11,uywqinit_loop
         00006bb0     ff8b  
    1532                    
    1533 00006bc0     0960          rets
    1534                    
    1535                    RECMAC  .macro  NAME,MONTH,DAY,PLAYED,WINS,STREAK,DEFEATED
    1536                            .string ":NAME:"
    1537                            .word   :MONTH:,:DAY:
    1538                            .word   :PLAYED:,:WINS:,:STREAK:
    1539                            .long   :DEFEATED:
    1540                            .endm
    1541                    
    1542                    
    1543 00006bd0           uywqdefault_records
    1544 00006bd0                   RECMAC  "MDP ",01,13,   20,8,   1,      000000000000001001000000000b    ;1
    1545 00006c60                   RECMAC  "DOZ ",12,31,   16,9,   1,      100000001000000000000000000b    ;2
    1546 00006cf0                   RECMAC  "JCV ",06,27,   9,4,    2,      000000100000000000000000000b    ;3
    1547 00006d80                   RECMAC  "JMS ",02,22,   16,6,   1,      000000001000000010000000001b    ;4
    1548 00006e10                   RECMAC  "JFL ",04,16,   15,7,   1,      000000100000000100000000000b    ;5
    1549                    
    1550 00006ea0                   RECMAC  "JRN ",06,18,   21,7,   1,      000000010000000000001000000b    ;6
    1551 00006f30                   RECMAC  "GET ",10,19,   20,9,   2,      101000010001000010000100000b    ;7
    1552 00006fc0                   RECMAC  "TJC ",10,12,   15,9,   4,      000000000000100000000000000b    ;8
    1553                    
    1554 00007050                   RECMAC  "GNP ",10,08,   14,8,   2,      001000000100010000100010000b    ;9
    1555 000070e0                   RECMAC  "JWH ",09,20,   13,9,   1,      000000010000100000000110000b    ;10
    1556 00007170                   RECMAC  "CMM ",07,02,   11,5,   1,      100000100000000000001000000b    ;11
    1557 00007200                   RECMAC  "MJT ",03,22,   28,17,  1,      000001001001010001000001000b    ;12
    1558                    
    1559 00007290                   RECMAC  "RJR ",01,17,   14,12,  1,      100001000100100100000100000b    ;13
    1560 00007320                   RECMAC  "SAL ",02,01,   13,10,  1,      000001001100010000010000000b    ;14
    1561 000073b0                   RECMAC  "TWG ",12,07,   12,9,   1,      100000001100000010000000000b    ;15
    1562 00007440                   RECMAC  "JMC ",08,05,   19,12,  3,      001000010010010010001000001b    ;16
    1563                    
    1564 000074d0       53          .byte   'S','L','A'+26
    1565 000074f0     0006          .word   6,24
    1566 00007510     0019          .word   25,15
    1567 00007530     0000          .word   0
    1568 00007540 024dcd26          .long   010010011011100110100100110b    ;17
    1569                    
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   40

    1570 00007560                   RECMAC  "WMN ",11,11,   15,8,   4,      001000010010010000001000001b    ;18
    1571 000075f0                   RECMAC  "DIE ",02,23,   12,2,   1,      000000010000000000001000000b    ;19
    1572 00007680                   RECMAC  "EJB ",02,23,   19,8,   2,      010100010000100010001000000b    ;20
    1573                    
    1574 00007710                   RECMAC  "CRL ",01,01,   5,5,    5,      000000010001000100001000001b    ;21
    1575 000077a0                   RECMAC  "SAN ",01,01,   5,5,    2,      000000010001000100001000001b    ;22
    1576 00007830                   RECMAC  "SNO ",01,03,   11,5,   3,      000000010001000100001000001b    ;23
    1577                    
    1578 000078c0                   .even
    1579                    
    1580                    
    1581                    
    1582 000078c0            SUBRP  clear_record
    1583                    
    1584 000078c0     5600          clr     a0
    1585 000078d0     0780          move    a0,@temp_record+00h,L
         000078e0 00000740- 
    1586 00007900     0780          move    a0,@temp_record+20h,L
         00007910 00000760- 
    1587 00007930     0780          move    a0,@temp_record+40h,L
         00007940 00000780- 
    1588 00007960     0d3f          callr   put_temp_record         ;write out record
         00007970     fb9c  
    1589 00007980     0960          rets
    1590                    
    1591                            .asg    24,YOFF
    1592                            .asg    64,COL0                 ;#
    1593                            .asg    COL0+29,COL0b           ;1-8
    1594                            .asg    150,COL1                ;initials
    1595                            .asg    230,COL2                ;wins
    1596                            .asg    COL2+2,COL3             ;dash
    1597                            .asg    COL3+16,COL4            ;losses
    1598                            .asg    310,COL5                ;average
    1599                    
    1600 00007990            SUBR   show_hiscore
    1601                    
    1602 00007990     0b80          andi    7,a0
         000079a0 fffffff8  
    1603 000079c0     0580          move    a0,@hiscore_type
         000079d0 000031a0- 
    1604                    
    1605 000079f0     0d3f          callr   get_all_records
         00007a00     fd3d  
    1606                    
    1607 00007a10     0d5f          calla   display_blank
         00007a20 00000000! 
    1608 00007a40     0d5f          calla   WIPEOUT                 ;CLEAN SYSTEM OUT
         00007a50 00000000! 
    1609                    
    1610 00007a70     1820          movk    1,a0                    ;page flipping on
    1611 00007a80     0580          move    a0,@dpageflip
         00007a90 00000000! 
    1612                    
    1613 00007ab0     09c0          movi    4<<10+4<<5+7,a0
         00007ac0     1087  
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   41

    1614 00007ad0     0580          move    a0,@IRQSKYE
         00007ae0 00000000! 
    1615                    
    1616 00007b00     09e0          movi    SCRNEND,a0              ;[256,405]
         00007b10 00fe01b0  
    1617 00007b30     0780          move    a0,@SCRNLR,L
         00007b40 00000000! 
    1618                    
    1619 00007b60     5600          clr     a0
    1620 00007b70     0780          move    a0,@WORLDTLX,L
         00007b80 00000000! 
    1621 00007ba0     0780          move    a0,@WORLDTLY,L
         00007bb0 00000000! 
    1622                    
    1623 00007bd0                   SLEEPK  2
    1624                    
    1625 00007c10     09e0          movi    bhnkhiscore_mod,a0
         00007c20 0000de30' 
    1626 00007c40     0780          move    a0,@BAKMODS,L
         00007c50 00000000! 
    1627 00007c70     0d5f          calla   BGND_UD1
         00007c80 00000000! 
    1628                    
    1629 00007ca0     09e8          movi    [10,7],a8               ;START AT COLOR 10, CYCLE 7 COLORS
         00007cb0 000a0007  
    1630 00007cd0     09e9          movi    BLUE,a9                 ;PAL NAME
         00007ce0 00000000! 
    1631 00007d00     09ea          movi    COLTAB2,a10             ;TABLE TO CYCLE WITH
         00007d10 00009200' 
    1632 00007d30     184b          movk    2,a11                   ;RATE OF CYCLE IN TICKS
    1633 00007d40                   CREATE  CYCPID,CYCLE_TABLE      ;START PROCESS TO DO CYCLE
    1634                    
    1635                    
    1636                    
    1637 00007dc0     09e0          movi    OSGCYC8,a0
         00007dd0 00000000! 
    1638 00007df0     0d5f          calla   pal_getf
         00007e00 00000000! 
    1639 00007e20     09e0          movi    OSGCYC9,a0
         00007e30 00000000! 
    1640 00007e50     0d5f          calla   pal_getf
         00007e60 00000000! 
    1641 00007e80     09e0          movi    OSGCYC10,a0
         00007e90 00000000! 
    1642 00007eb0     0d5f          calla   pal_getf
         00007ec0 00000000! 
    1643                    
    1644                            .asg    1,SPD
    1645                    
    1646 00007ee0     1828          movk    SPD,a8
    1647 00007ef0     09e9          movi    OSGCYC1,a9
         00007f00 00000000! 
    1648 00007f20     09ea          movi    bhnkmorf_plist1,a10
         00007f30 000099f0' 
    1649 00007f50     09eb          movi    morfpal1,a11
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   42

         00007f60 00000000! 
    1650 00007f80                   CREATE0 morf_pal
    1651                    
    1652 00007ff0     1828          movk    SPD,a8
    1653 00008000     09e9          movi    OSGCYC2,a9
         00008010 00000000! 
    1654 00008030     09ea          movi    bhnkmorf_plist2,a10
         00008040 00009af0' 
    1655 00008060     09eb          movi    morfpal2,a11
         00008070 00000000! 
    1656 00008090                   CREATE0 morf_pal
    1657                    
    1658 00008100     1828          movk    SPD,a8
    1659 00008110     09e9          movi    OSGCYC3,a9
         00008120 00000000! 
    1660 00008140     09ea          movi    bhnkmorf_plist3,a10
         00008150 00009c10' 
    1661 00008170     09eb          movi    morfpal3,a11
         00008180 00000000! 
    1662 000081a0                   CREATE0 morf_pal
    1663                    
    1664 00008210     1828          movk    SPD,a8
    1665 00008220     09e9          movi    OSGCYC4,a9
         00008230 00000000! 
    1666 00008250     09ea          movi    bhnkmorf_plist4,a10
         00008260 00009d30' 
    1667 00008280     09eb          movi    morfpal4,a11
         00008290 00000000! 
    1668 000082b0                   CREATE0 morf_pal
    1669                    
    1670 00008320     1828          movk    SPD,a8
    1671 00008330     09e9          movi    OSGCYC5,a9
         00008340 00000000! 
    1672 00008360     09ea          movi    bhnkmorf_plist5,a10
         00008370 00009e50' 
    1673 00008390     09eb          movi    morfpal5,a11
         000083a0 00000000! 
    1674 000083c0                   CREATE0 morf_pal
    1675                    
    1676 00008430     1828          movk    SPD,a8
    1677 00008440     09e9          movi    OSGCYC6,a9
         00008450 00000000! 
    1678 00008470     09ea          movi    bhnkmorf_plist6,a10
         00008480 00009f70' 
    1679 000084a0     09eb          movi    morfpal6,a11
         000084b0 00000000! 
    1680 000084d0                   CREATE0 morf_pal
    1681                    
    1682 00008540     1828          movk    SPD,a8
    1683 00008550     09e9          movi    OSGCYC7,a9
         00008560 00000000! 
    1684 00008580     09ea          movi    bhnkmorf_plist7,a10
         00008590 0000a090' 
    1685 000085b0     09eb          movi    morfpal7,a11
         000085c0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   43

    1686 000085e0                   CREATE0 morf_pal
    1687                    
    1688                    
    1689 00008650     1888          movk    4,a8
    1690 00008660     09e9          movi    OSGCYC8,a9
         00008670 00000000! 
    1691 00008690     09ea          movi    bhnkmorf_plist8,a10
         000086a0 0000a310' 
    1692 000086c0     09eb          movi    morfpal8,a11
         000086d0 00000000! 
    1693 000086f0                   CREATE0 morf_pal
    1694                    
    1695 00008760     1888          movk    4,a8
    1696 00008770     09e9          movi    OSGCYC9,a9
         00008780 00000000! 
    1697 000087a0     09ea          movi    bhnkmorf_plist9,a10
         000087b0 0000a250' 
    1698 000087d0     09eb          movi    morfpal9,a11
         000087e0 00000000! 
    1699 00008800                   CREATE0 morf_pal
    1700                    
    1701 00008870     1888          movk    4,a8
    1702 00008880     09e9          movi    OSGCYC10,a9
         00008890 00000000! 
    1703 000088b0     09ea          movi    bhnkmorf_plist10,a10
         000088c0 0000a1b0' 
    1704 000088e0     09eb          movi    morfpal10,a11
         000088f0 00000000! 
    1705 00008910                   CREATE0 morf_pal
    1706                    
    1707                    
    1708 00008980     5600          clr     a0
    1709 00008990           bhnkloopit
    1710 00008990     0580          move    a0,@hiscore_type
         000089a0 000031a0- 
    1711                    
    1712 000089c0     09c0          movi    TYPTEXT,a0              ;delete text
         000089d0     0700  
    1713 000089e0     0d5f          calla   obj_del1c
         000089f0 00000000! 
    1714                    
    1715 00008a10     0d3f          callr   print_stuff                     ;heading and hiscore
         00008a20     0040  
    1716                    
    1717 00008a30     05a0          move    @hiscore_type,a0
         00008a40 000031a0- 
    1718 00008a60     cb13          jrnz    bhnkno_unblank
    1719                    
    1720 00008a70                   SLEEPK  7
    1721                    
    1722 00008ab0     1820          movk    1,a0
    1723 00008ac0     0580          move    a0,@DISPLAYON
         00008ad0 00000000! 
    1724                    
    1725 00008af0                   SLEEPK  2
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   44

    1726 00008b30     0d5f          calla   display_unblank
         00008b40 00000000! 
    1727 00008b60                   SLEEPK  15
    1728 00008ba0           bhnkno_unblank
    1729                    
    1730 00008ba0                   SLEEP   TSEC
    1731                    
    1732 00008bf0     09ca          movi    4*60,a10
         00008c00     00f0  
    1733                    
    1734 00008c10           bhnkdelay
    1735 00008c10                   SLEEPK  1
    1736 00008c50     0d5f          calla   get_all_buttons_cur2
         00008c60 00000000! 
    1737 00008c80     cb02          jrnz    bhnkexit0
    1738 00008c90     3d2a          dsj     a10,bhnkdelay
    1739 00008ca0     c00e          jruc    bhnkexit
    1740                    
    1741 00008cb0           bhnkexit0
    1742 00008cb0     5600          clr     a0
    1743 00008cc0     0580          move    a0,@SOUNDSUP            ;turn all sounds on
         00008cd0 00000000! 
    1744 00008cf0                   SOUND1  bounce_snd
    1745 00008d50     1820          movk    1,a0
    1746                            .ref    SOUNDSUP
    1747 00008d60     0580          move    a0,@SOUNDSUP            ;turn all sounds off
         00008d70 00000000! 
    1748 00008d90           bhnkexit
    1749 00008d90     05a0          move    @hiscore_type,a0
         00008da0 000031a0- 
    1750 00008dc0     1020          inc     a0
    1751 00008dd0     0b40          cmpi    5,a0
         00008de0     fffa  
    1752 00008df0     c4b9          jrlt    bhnkloopit
    1753                    
    1754 00008e00                   RETP
    1755                    
    1756                    
    1757                    
    1758 00008e30           print_stuff
    1759 00008e30     09e2          movi    bhnkheading1_setup,a2
         00008e40 0000dcf0' 
    1760 00008e60     0d5f          calla   setup_message
         00008e70 00000000! 
    1761 00008e90     09c0          movi    TYPTEXT,a0
         00008ea0     0700  
    1762 00008eb0     0580          move    a0,@mess_objid
         00008ec0 00000000! 
    1763 00008ee0     05a0          move    @hiscore_type,a0
         00008ef0 000031a0- 
    1764 00008f10     24a0          sll     5,a0                            ;x 32 bits
    1765 00008f20                   PUSH    a0
    1766 00008f30     0b20          addi    bhnkheadings1,a0
         00008f40 0000de90' 
    1767 00008f60     8604          move    *a0,a4,L
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   45

    1768 00008f70     0d5f          calla   print_string_C2
         00008f80 00000000! 
    1769                    
    1770 00008fa0     09e2          movi    bhnkheading2_setup,a2
         00008fb0 0000dd90' 
    1771 00008fd0     0d5f          calla   setup_message
         00008fe0 00000000! 
    1772 00009000     09c0          movi    TYPTEXT,a0
         00009010     0700  
    1773 00009020     0580          move    a0,@mess_objid
         00009030 00000000! 
    1774 00009050                   PULL    a0
    1775 00009060     0b20          addi    bhnkheadings2,a0
         00009070 0000df90' 
    1776 00009090     8604          move    *a0,a4,L
    1777 000090a0     0d5f          calla   print_string_C2
         000090b0 00000000! 
    1778                    
    1779 000090d0     05a0          move    @hiscore_type,a0
         000090e0 000031a0- 
    1780 00009100     24a0          sll     5,a0                            ;x 32 bits
    1781 00009110     0b20          addi    bhnksort_routines,a0
         00009120 0000d970' 
    1782 00009140     8600          move    *a0,a0,L
    1783 00009150     0920          call    a0
    1784                    
    1785 00009160     05a0          move    @hiscore_type,a0
         00009170 000031a0- 
    1786 00009190     24a0          sll     5,a0                            ;x 32 bits
    1787 000091a0     0b20          addi    bhnkprint_methods,a0
         000091b0 0000a3d0' 
    1788 000091d0     8600          move    *a0,a0,L
    1789 000091e0     0920          call    a0
    1790 000091f0     0960          rets
    1791                    
    1792                    
    1793                            .def    COLTAB2
    1794 00009200           COLTAB2
    1795 00009200     079f          .word   0079fh,0077eh,0077eh,0035eh,0033eh,0031eh,002feh
    1796 00009270     02fe          .word   002feh,002deh,002beh,002beh,0029eh,0029eh,0027dh,0025dh
    1797 000092f0     025d          .word   0025dh,0023dh,0023dh,0021eh,0023eh,0025eh,0027eh,0029eh
    1798 00009370     029e          .word   0029eh,002beh,002deh,002feh,0033eh,0035eh,0077eh,0079eh
    1799 000093f0     079e          .word   0079eh,0037eh,0037eh,0035eh,0033eh,0033eh,0031eh,0031eh
    1800 00009470     02fe          .word   002feh,002feh,0131eh,0273eh,03b5eh,04f9fh,063bfh,077ffh
    1801 000094f0     63bf          .word   063bfh,04f9fh,03b5eh,0273eh,0131eh,002feh,002feh,0031eh
    1802 00009570     031e          .word   0031eh,0033eh,0033eh,0035eh,0037eh,0037eh,0079eh,0079eh
    1803                    
    1804 000095f0     079f          .word   0079fh,0077eh,0077eh,0035eh,0033eh,0031eh,002feh
    1805 00009660     02fe          .word   002feh,002deh,002beh,002beh,0029eh,0029eh,0027dh,0025dh
    1806 000096e0     025d          .word   0025dh,0023dh,0023dh,0021eh,0023eh,0025eh,0027eh,0029eh
    1807 00009760     029e          .word   0029eh,002beh,002deh,002feh,0033eh,0035eh,0077eh,0079eh
    1808 000097e0     079e          .word   0079eh,0037eh,0037eh,0035eh,0033eh,0033eh,0031eh,0031eh
    1809 00009860     02fe          .word   002feh,002feh,0131eh,0273eh,03b5eh,04f9fh,063bfh,077ffh
    1810 000098e0     63bf          .word   063bfh,04f9fh,03b5eh,0273eh,0131eh,002feh,002feh,0031eh
    1811 00009960     031e          .word   0031eh,0033eh,0033eh,0035eh,0037eh,0037eh,0079eh,0079eh
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   46

    1812                    
    1813 000099e0     ffff          .word   -1
    1814                    
    1815                    
    1816                    
    1817                    
    1818                    
    1819                    
    1820 000099f0           bhnkmorf_plist1
    1821 000099f0 00000000!         .long   GOLD
    1822 00009a10 0000003f          .long   63
    1823 00009a30 00000000!         .long   WHITE2PAL
    1824 00009a50 00000000!         .long   GOLD
    1825 00009a70 0000003f          .long   63
    1826 00009a90 00000000!         .long   WHITEPAL
    1827 00009ab0 00000000!         .long   GOLD
    1828 00009ad0 00000000          .long   0
    1829                    
    1830 00009af0           bhnkmorf_plist2
    1831 00009af0 00000000!         .long   GOLD
    1832 00009b10 00000037          .long   55
    1833 00009b30 00000000!         .long   WHITE2PAL
    1834 00009b50 00000000!         .long   GOLD
    1835 00009b70 0000003f          .long   63
    1836 00009b90 00000000!         .long   WHITEPAL
    1837 00009bb0 00000000!         .long   GOLD
    1838 00009bd0 00000008          .long   8
    1839 00009bf0 00000000          .long   0
    1840                    
    1841 00009c10           bhnkmorf_plist3
    1842 00009c10 00000000!         .long   GOLD
    1843 00009c30 00000030          .long   48
    1844 00009c50 00000000!         .long   WHITE2PAL
    1845 00009c70 00000000!         .long   GOLD
    1846 00009c90 0000003f          .long   63
    1847 00009cb0 00000000!         .long   WHITEPAL
    1848 00009cd0 00000000!         .long   GOLD
    1849 00009cf0 0000000f          .long   15
    1850 00009d10 00000000          .long   0
    1851                    
    1852 00009d30           bhnkmorf_plist4
    1853 00009d30 00000000!         .long   GOLD
    1854 00009d50 00000029          .long   41
    1855 00009d70 00000000!         .long   WHITE2PAL
    1856 00009d90 00000000!         .long   GOLD
    1857 00009db0 0000003f          .long   63
    1858 00009dd0 00000000!         .long   WHITEPAL
    1859 00009df0 00000000!         .long   GOLD
    1860 00009e10 00000016          .long   22
    1861 00009e30 00000000          .long   0
    1862                    
    1863 00009e50           bhnkmorf_plist5
    1864 00009e50 00000000!         .long   GOLD
    1865 00009e70 00000022          .long   34
    1866 00009e90 00000000!         .long   WHITE2PAL
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   47

    1867 00009eb0 00000000!         .long   GOLD
    1868 00009ed0 0000003f          .long   63
    1869 00009ef0 00000000!         .long   WHITEPAL
    1870 00009f10 00000000!         .long   GOLD
    1871 00009f30 0000001d          .long   29
    1872 00009f50 00000000          .long   0
    1873                    
    1874 00009f70           bhnkmorf_plist6
    1875 00009f70 00000000!         .long   GOLD
    1876 00009f90 0000001b          .long   27
    1877 00009fb0 00000000!         .long   WHITE2PAL
    1878 00009fd0 00000000!         .long   GOLD
    1879 00009ff0 0000003f          .long   63
    1880 0000a010 00000000!         .long   WHITEPAL
    1881 0000a030 00000000!         .long   GOLD
    1882 0000a050 00000024          .long   36
    1883 0000a070 00000000          .long   0
    1884                    
    1885 0000a090           bhnkmorf_plist7
    1886 0000a090 00000000!         .long   GOLD
    1887 0000a0b0 00000014          .long   20
    1888 0000a0d0 00000000!         .long   WHITE2PAL
    1889 0000a0f0 00000000!         .long   GOLD
    1890 0000a110 0000003f          .long   63
    1891 0000a130 00000000!         .long   WHITEPAL
    1892 0000a150 00000000!         .long   GOLD
    1893 0000a170 0000002b          .long   43
    1894 0000a190 00000000          .long   0
    1895                    
    1896                    
    1897 0000a1b0           bhnkmorf_plist10
    1898 0000a1b0 00000000!         .long   LGMDGLD
    1899 0000a1d0 00000042          .long   66
    1900 0000a1f0 00000000!         .long   LGMDGLDlt
    1901 0000a210 00000000!         .long   LGMDGLD
    1902 0000a230 00000000          .long   0
    1903                    
    1904 0000a250           bhnkmorf_plist9
    1905 0000a250 00000000!         .long   LGMDGLD
    1906 0000a270 00000036          .long   54
    1907 0000a290 00000000!         .long   LGMDGLDlt
    1908 0000a2b0 00000000!         .long   LGMDGLD
    1909 0000a2d0 0000000c          .long   12
    1910 0000a2f0 00000000          .long   0
    1911                    
    1912 0000a310           bhnkmorf_plist8
    1913 0000a310 00000000!         .long   LGMDGLD
    1914 0000a330 0000002a          .long   42
    1915 0000a350 00000000!         .long   LGMDGLDlt
    1916 0000a370 00000000!         .long   LGMDGLD
    1917 0000a390 00000018          .long   24
    1918 0000a3b0 00000000          .long   0
    1919                    
    1920                    
    1921 0000a3d0                   .even
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   48

    1922 0000a3d0           bhnkprint_methods
    1923 0000a3d0 0000a4d0'         .long   bhnkmethod1             ;0 (greatest players)
    1924 0000a3f0 0000ca70'         .long   bhnkmethod2b            ;1 (grand champions)
    1925 0000a410 0000bec0'         .long   bhnkmethod2             ;2 (experienced players)
    1926 0000a430 0000b260'         .long   bhnkmethod1b            ;3 (win streak)
    1927 0000a450 0000d2c0'         .long   bhnkmethod3             ;4 (most popular teams)
    1928 0000a470 0000a4d0'         .long   bhnkmethod1             ;5
    1929 0000a490 0000a4d0'         .long   bhnkmethod1             ;6
    1930 0000a4b0 0000a4d0'         .long   bhnkmethod1             ;7 (worst players!)
    1931                    
    1932 0000a4d0           bhnkmethod1
    1933                    
    1934 0000a4d0     09e2          movi    LN0_setup,a2
         0000a4e0 0000dbb0' 
    1935 0000a500     0d5f          calla   setup_message
         0000a510 00000000! 
    1936 0000a530     09c0          movi    TYPTEXT,a0
         0000a540     0700  
    1937 0000a550     0580          move    a0,@mess_objid
         0000a560 00000000! 
    1938                    
    1939 0000a580     190a          movk    8,a10
    1940 0000a590     09e9          movi    record_sort_ptrs,a9
         0000a5a0 00000d60- 
    1941                    
    1942 0000a5c0           bhnknext_player
    1943 0000a5c0                   PUSH    a9,a10
    1944                    
    1945 0000a5e0     09e0          movi    GOLD,a0
         0000a5f0 00000000! 
    1946 0000a610     0780          move    a0,@message_palette,L
         0000a620 00000000! 
    1947                    
    1948 0000a640     1920          movk    9,a0
    1949 0000a650     4540          sub     a10,a0                          ;1-8
    1950 0000a660     1901          movk    8,a1                            ;max value
    1951 0000a670     0d5f          calla   dec_to_asc
         0000a680 00000000! 
    1952 0000a6a0     0d5f          calla   copy_string
         0000a6b0 00000000! 
    1953 0000a6d0     09c0          movi    COL0b,a0
         0000a6e0     005d  
    1954 0000a6f0     0580          move    a0,@mess_cursx
         0000a700 00000000! 
    1955 0000a720     0d5f          calla   print_string_C
         0000a730 00000000! 
    1956                    
    1957 0000a750     09c0          movi    COL0,a0
         0000a760     0040  
    1958 0000a770     0580          move    a0,@mess_cursx
         0000a780 00000000! 
    1959 0000a7a0     09e4          movi    bhnkstr_num,a4
         0000a7b0 0000e8e8' 
    1960 0000a7d0     0d5f          calla   print_string2
         0000a7e0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   49

    1961                    
    1962 0000a800     8728          move    *a9,a8,L
    1963 0000a810     b500          move    *a8(RS_RECORD_NUM),a0
         0000a820     0000  
    1964 0000a830     09c1          movi    PKDPR_SIZE*2,a1                 ;cmos words
         0000a840     0150  
    1965 0000a850     5e01          mpyu    a0,a1
    1966 0000a860     0b21          addi    RECORD_ORIGIN,a1
         0000a870 01400000  
    1967 0000a890                   PUSH    a10
    1968 0000a8a0     4c2a          move    a1,a10
    1969 0000a8b0     0d3f          callr   get_temp_record
         0000a8c0     f7cc  
    1970                    
    1971 0000a8d0                   PULL    a0
    1972 0000a8e0     24a0          sll     5,a0                    ;x 32 bits
    1973 0000a8f0     0b20          addi    bhnkwinpals-20h,a0
         0000a900 0000b140' 
    1974 0000a920     8600          move    *a0,a0,L
    1975 0000a930     0780          move    a0,@message_palette,L
         0000a940 00000000! 
    1976                    
    1977                    
    1978 0000a960     09e4          movi    temp_record+PR_INIT1,a4         ;* src initials
         0000a970 00000780- 
    1979 0000a990     09e3          movi    message_buffer,a3               ;* string dest
         0000a9a0 00000000! 
    1980 0000a9c0     0d5f          calla   get_initials_string
         0000a9d0 00000000! 
    1981 0000a9f0     09c0          movi    COL1,a0
         0000aa00     0096  
    1982 0000aa10     0580          move    a0,@mess_cursx
         0000aa20 00000000! 
    1983 0000aa40     0d5f          calla   print_string_C
         0000aa50 00000000! 
    1984                    
    1985 0000aa70     05a0          move    @temp_record+PR_WON,a0
         0000aa80 00000750- 
    1986 0000aaa0     09c1          movi    999,a1                  ;max value
         0000aab0     03e7  
    1987 0000aac0     0d5f          calla   dec_to_asc
         0000aad0 00000000! 
    1988 0000aaf0     0d5f          calla   copy_string
         0000ab00 00000000! 
    1989 0000ab20     09c0          movi    COL2,a0
         0000ab30     00e6  
    1990 0000ab40     0580          move    a0,@mess_cursx
         0000ab50 00000000! 
    1991 0000ab70     0d5f          calla   print_string_R
         0000ab80 00000000! 
    1992                    
    1993 0000aba0     09c0          movi    COL3,a0
         0000abb0     00e8  
    1994 0000abc0     0580          move    a0,@mess_cursx
         0000abd0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   50

    1995 0000abf0     09e4          movi    bhnkstr_dash,a4
         0000ac00 0000e870' 
    1996 0000ac20     0d5f          calla   print_string2
         0000ac30 00000000! 
    1997                    
    1998 0000ac50     05a0          move    @temp_record+PR_LOST,a0
         0000ac60 00000760- 
    1999 0000ac80     09c1          movi    999,a1                  ;max value
         0000ac90     03e7  
    2000 0000aca0     0d5f          calla   dec_to_asc
         0000acb0 00000000! 
    2001 0000acd0     0d5f          calla   copy_string
         0000ace0 00000000! 
    2002 0000ad00     09c0          movi    COL4,a0
         0000ad10     00f8  
    2003 0000ad20     0580          move    a0,@mess_cursx
         0000ad30 00000000! 
    2004 0000ad50     0d5f          calla   print_string
         0000ad60 00000000! 
    2005                    
    2006 0000ad80     09e4          movi    bhnkstr_dot,a4
         0000ad90 0000e880' 
    2007 0000adb0     0d5f          calla   copy_rom_string
         0000adc0 00000000! 
    2008                    
    2009 0000ade0     b500          move    *a8(RS_AVERAGE),a0
         0000adf0     0030  
    2010 0000ae00     cb07          jrnz    bhnknot_zip
    2011                    
    2012 0000ae10     09e4          movi    bhnkstr_0,a4
         0000ae20 0000e8c0' 
    2013 0000ae40     0d5f          calla   copy_rom_string
         0000ae50 00000000! 
    2014 0000ae70     c017          jruc    bhnkskip1
    2015 0000ae80           bhnknot_zip
    2016 0000ae80     0b40          cmpi    1000,a0
         0000ae90     fc17  
    2017 0000aea0     c80c          jrlo    bhnknot_max
    2018                    
    2019 0000aeb0     09e4          movi    bhnkstr_1000,a4
         0000aec0 0000e890' 
    2020 0000aee0     0d5f          calla   copy_rom_string
         0000aef0 00000000! 
    2021 0000af10     09c0          movi    COL5-9,a0
         0000af20     012d  
    2022 0000af30     0580          move    a0,@mess_cursx
         0000af40 00000000! 
    2023 0000af60     c00d          jruc    bhnkskip2
    2024                    
    2025 0000af70           bhnknot_max
    2026 0000af70     09c1          movi    999,a1                  ;max value
         0000af80     03e7  
    2027 0000af90     0d5f          calla   dec_to_pct
         0000afa0 00000000! 
    2028 0000afc0     0d5f          calla   concat_string
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   51

         0000afd0 00000000! 
    2029 0000aff0           bhnkskip1
    2030 0000aff0     09c0          movi    COL5,a0
         0000b000     0136  
    2031 0000b010     0580          move    a0,@mess_cursx
         0000b020 00000000! 
    2032 0000b040           bhnkskip2
    2033 0000b040     0d5f          calla   print_string
         0000b050 00000000! 
    2034                    
    2035                    
    2036 0000b070     05a0          move    @mess_cursy,a0
         0000b080 00000000! 
    2037 0000b0a0     0b00          addi    YOFF,a0
         0000b0b0     0018  
    2038 0000b0c0     0580          move    a0,@mess_cursy
         0000b0d0 00000000! 
    2039                    
    2040 0000b0f0                   PULL    a9,a10
    2041 0000b110     0b09          addi    20h,a9
         0000b120     0020  
    2042 0000b130     0d8a          dsj     a10,bhnknext_player
         0000b140     ff47  
    2043                    
    2044 0000b150     0960          rets
    2045                    
    2046 0000b160           bhnkwinpals
    2047 0000b160 00000000!         .long   OSGCYC7
    2048 0000b180 00000000!         .long   OSGCYC6
    2049 0000b1a0 00000000!         .long   OSGCYC5
    2050 0000b1c0 00000000!         .long   OSGCYC4
    2051 0000b1e0 00000000!         .long   OSGCYC3
    2052 0000b200 00000000!         .long   OSGCYC2
    2053 0000b220 00000000!         .long   OSGCYC1
    2054 0000b240 00000000!         .long   BLUE
    2055                    
    2056 0000b260           bhnkmethod1b
    2057                    
    2058 0000b260     09e2          movi    LN0_setup,a2
         0000b270 0000dbb0' 
    2059 0000b290     0d5f          calla   setup_message
         0000b2a0 00000000! 
    2060 0000b2c0     09c0          movi    TYPTEXT,a0
         0000b2d0     0700  
    2061 0000b2e0     0580          move    a0,@mess_objid
         0000b2f0 00000000! 
    2062                    
    2063 0000b310     190a          movk    8,a10
    2064 0000b320     09e9          movi    record_sort_ptrs,a9
         0000b330 00000d60- 
    2065                    
    2066 0000b350           bhnknext_player1b
    2067 0000b350                   PUSH    a9,a10
    2068                    
    2069 0000b370     09e0          movi    GOLD,a0
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   52

         0000b380 00000000! 
    2070 0000b3a0     0780          move    a0,@message_palette,L
         0000b3b0 00000000! 
    2071                    
    2072 0000b3d0     1920          movk    9,a0
    2073 0000b3e0     4540          sub     a10,a0                          ;1-8
    2074 0000b3f0     1901          movk    8,a1                            ;max value
    2075 0000b400     0d5f          calla   dec_to_asc
         0000b410 00000000! 
    2076 0000b430     0d5f          calla   copy_string
         0000b440 00000000! 
    2077 0000b460     09c0          movi    COL0b,a0
         0000b470     005d  
    2078 0000b480     0580          move    a0,@mess_cursx
         0000b490 00000000! 
    2079 0000b4b0     0d5f          calla   print_string_C
         0000b4c0 00000000! 
    2080                    
    2081 0000b4e0     09c0          movi    COL0,a0
         0000b4f0     0040  
    2082 0000b500     0580          move    a0,@mess_cursx
         0000b510 00000000! 
    2083 0000b530     09e4          movi    bhnkstr_num,a4
         0000b540 0000e8e8' 
    2084 0000b560     0d5f          calla   print_string2
         0000b570 00000000! 
    2085                    
    2086 0000b590     8728          move    *a9,a8,L
    2087 0000b5a0     b500          move    *a8(RS_RECORD_NUM),a0
         0000b5b0     0000  
    2088 0000b5c0     09c1          movi    PKDPR_SIZE*2,a1                 ;cmos words
         0000b5d0     0150  
    2089 0000b5e0     5e01          mpyu    a0,a1
    2090 0000b5f0     0b21          addi    RECORD_ORIGIN,a1
         0000b600 01400000  
    2091 0000b620                   PUSH    a10
    2092 0000b630     4c2a          move    a1,a10
    2093 0000b640     0d3f          callr   get_temp_record
         0000b650     f6f3  
    2094                    
    2095 0000b660                   PULL    a0
    2096 0000b670     24a0          sll     5,a0                    ;x 32 bits
    2097 0000b680     0b20          addi    bhnkstreakpals-20h,a0
         0000b690 0000bda0' 
    2098 0000b6b0     8600          move    *a0,a0,L
    2099 0000b6c0     0780          move    a0,@message_palette,L
         0000b6d0 00000000! 
    2100                    
    2101                    
    2102 0000b6f0     09e4          movi    temp_record+PR_INIT1,a4         ;* src initials
         0000b700 00000780- 
    2103 0000b720     09e3          movi    message_buffer,a3               ;* string dest
         0000b730 00000000! 
    2104 0000b750     0d5f          calla   get_initials_string
         0000b760 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   53

    2105 0000b780     09c0          movi    COL1,a0
         0000b790     0096  
    2106 0000b7a0     0580          move    a0,@mess_cursx
         0000b7b0 00000000! 
    2107 0000b7d0     0d5f          calla   print_string_C
         0000b7e0 00000000! 
    2108                    
    2109 0000b800     09c0          movi    COL3+11,a0
         0000b810     00f3  
    2110 0000b820     0580          move    a0,@mess_cursx
         0000b830 00000000! 
    2111 0000b850     05a0          move    @temp_record+PR_WINSTREAK,a0
         0000b860 000008e0- 
    2112 0000b880     09c1          movi    63,a1                           ;max value
         0000b890     003f  
    2113 0000b8a0     0d5f          calla   dec_to_asc
         0000b8b0 00000000! 
    2114 0000b8d0     0d5f          calla   copy_string
         0000b8e0 00000000! 
    2115 0000b900     09e4          movi    bhnkstr_wins,a4
         0000b910 0000bd90' 
    2116 0000b930     0d5f          calla   concat_rom_string
         0000b940 00000000! 
    2117 0000b960     0d5f          calla   print_string_C
         0000b970 00000000! 
    2118                    
    2119                            .asg    96,OFFX
    2120                    
    2121 0000b990     05a0          move    @temp_record+PR_WON,a0
         0000b9a0 00000750- 
    2122 0000b9c0     09c1          movi    999,a1                  ;max value
         0000b9d0     03e7  
    2123 0000b9e0     0d5f          calla   dec_to_asc
         0000b9f0 00000000! 
    2124 0000ba10     0d5f          calla   copy_string
         0000ba20 00000000! 
    2125 0000ba40     09c0          movi    COL2+OFFX,a0
         0000ba50     0146  
    2126 0000ba60     0580          move    a0,@mess_cursx
         0000ba70 00000000! 
    2127 0000ba90     0d5f          calla   print_string_R
         0000baa0 00000000! 
    2128                    
    2129 0000bac0     09c0          movi    COL3+OFFX,a0
         0000bad0     0148  
    2130 0000bae0     0580          move    a0,@mess_cursx
         0000baf0 00000000! 
    2131 0000bb10     09e4          movi    bhnkstr_dash,a4
         0000bb20 0000e870' 
    2132 0000bb40     0d5f          calla   print_string2
         0000bb50 00000000! 
    2133                    
    2134 0000bb70     05a0          move    @temp_record+PR_LOST,a0
         0000bb80 00000760- 
    2135 0000bba0     09c1          movi    999,a1                  ;max value
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   54

         0000bbb0     03e7  
    2136 0000bbc0     0d5f          calla   dec_to_asc
         0000bbd0 00000000! 
    2137 0000bbf0     0d5f          calla   copy_string
         0000bc00 00000000! 
    2138 0000bc20     09c0          movi    COL4+OFFX,a0
         0000bc30     0158  
    2139 0000bc40     0580          move    a0,@mess_cursx
         0000bc50 00000000! 
    2140 0000bc70     0d5f          calla   print_string
         0000bc80 00000000! 
    2141                    
    2142                    
    2143                    
    2144 0000bca0     05a0          move    @mess_cursy,a0
         0000bcb0 00000000! 
    2145 0000bcd0     0b00          addi    YOFF,a0
         0000bce0     0018  
    2146 0000bcf0     0580          move    a0,@mess_cursy
         0000bd00 00000000! 
    2147                    
    2148 0000bd20                   PULL    a9,a10
    2149 0000bd40     0b09          addi    20h,a9
         0000bd50     0020  
    2150 0000bd60     0d8a          dsj     a10,bhnknext_player1b
         0000bd70     ff5d  
    2151                    
    2152 0000bd80     0960          rets
    2153                    
    2154 0000bd90           bhnkstr_wins
    2155 0000bd90       20          .string " WINS",0
    2156                    
    2157                    
    2158 0000bdc0           bhnkstreakpals
    2159 0000bdc0 00000000!         .long   OSGCYC7
    2160 0000bde0 00000000!         .long   OSGCYC6
    2161 0000be00 00000000!         .long   OSGCYC5
    2162 0000be20 00000000!         .long   OSGCYC4
    2163 0000be40 00000000!         .long   OSGCYC3
    2164 0000be60 00000000!         .long   OSGCYC2
    2165 0000be80 00000000!         .long   OSGCYC1
    2166 0000bea0 00000000!         .long   BLUE
    2167                    
    2168 0000bec0           bhnkmethod2
    2169                    
    2170                            .asg    153,XCOL1               ;initials
    2171                            .asg    238,XCOL3               ;plays
    2172                            .asg    310,XCOL5               ;average
    2173                    
    2174 0000bec0     09e2          movi    LN0_setup,a2
         0000bed0 0000dbb0' 
    2175 0000bef0     0d5f          calla   setup_message
         0000bf00 00000000! 
    2176 0000bf20     09c0          movi    TYPTEXT,a0
         0000bf30     0700  
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   55

    2177 0000bf40     0580          move    a0,@mess_objid
         0000bf50 00000000! 
    2178                    
    2179 0000bf70     190a          movk    8,a10
    2180 0000bf80     09e9          movi    record_sort_ptrs,a9
         0000bf90 00000d60- 
    2181                    
    2182 0000bfb0           bhnknext_player2
    2183 0000bfb0                   PUSH    a9,a10
    2184                    
    2185 0000bfd0     09e0          movi    GOLD,a0
         0000bfe0 00000000! 
    2186 0000c000     0780          move    a0,@message_palette,L
         0000c010 00000000! 
    2187                    
    2188 0000c030     1920          movk    9,a0
    2189 0000c040     4540          sub     a10,a0                          ;1-8
    2190 0000c050     1901          movk    8,a1                            ;max value
    2191 0000c060     0d5f          calla   dec_to_asc
         0000c070 00000000! 
    2192 0000c090     0d5f          calla   copy_string
         0000c0a0 00000000! 
    2193 0000c0c0     09c0          movi    COL0b,a0
         0000c0d0     005d  
    2194 0000c0e0     0580          move    a0,@mess_cursx
         0000c0f0 00000000! 
    2195 0000c110     0d5f          calla   print_string_C
         0000c120 00000000! 
    2196                    
    2197 0000c140     09c0          movi    COL0,a0
         0000c150     0040  
    2198 0000c160     0580          move    a0,@mess_cursx
         0000c170 00000000! 
    2199 0000c190     09e4          movi    bhnkstr_num,a4
         0000c1a0 0000e8e8' 
    2200 0000c1c0     0d5f          calla   print_string2
         0000c1d0 00000000! 
    2201                    
    2202 0000c1f0     8728          move    *a9,a8,L
    2203 0000c200     b500          move    *a8(RS_RECORD_NUM),a0
         0000c210     0000  
    2204 0000c220     09c1          movi    PKDPR_SIZE*2,a1                 ;cmos words
         0000c230     0150  
    2205 0000c240     5e01          mpyu    a0,a1
    2206 0000c250     0b21          addi    RECORD_ORIGIN,a1
         0000c260 01400000  
    2207 0000c280                   PUSH    a10
    2208 0000c290     4c2a          move    a1,a10
    2209 0000c2a0     0d3f          callr   get_temp_record
         0000c2b0     f62d  
    2210                    
    2211 0000c2c0                   PULL    a0
    2212 0000c2d0     24a0          sll     5,a0                    ;x 32 bits
    2213 0000c2e0     0b20          addi    bhnkexppals-20h,a0
         0000c2f0 0000c950' 
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   56

    2214 0000c310     8600          move    *a0,a0,L
    2215 0000c320     0780          move    a0,@message_palette,L
         0000c330 00000000! 
    2216 0000c350     09e4          movi    temp_record+PR_INIT1,a4         ;* src initials
         0000c360 00000780- 
    2217                    
    2218                    
    2219 0000c380     09e3          movi    message_buffer,a3               ;* string dest
         0000c390 00000000! 
    2220 0000c3b0     0d5f          calla   get_initials_string
         0000c3c0 00000000! 
    2221 0000c3e0     09c0          movi    XCOL1,a0
         0000c3f0     0099  
    2222 0000c400     0580          move    a0,@mess_cursx
         0000c410 00000000! 
    2223 0000c430     0d5f          calla   print_string_C
         0000c440 00000000! 
    2224                    
    2225 0000c460     05a0          move    @temp_record+PR_COUNT,a0
         0000c470 00000740- 
    2226 0000c490     09c1          movi    999,a1                  ;max value
         0000c4a0     03e7  
    2227 0000c4b0     0d5f          calla   dec_to_asc
         0000c4c0 00000000! 
    2228 0000c4e0     0d5f          calla   copy_string
         0000c4f0 00000000! 
    2229 0000c510     09c0          movi    XCOL3,a0
         0000c520     00ee  
    2230 0000c530     0580          move    a0,@mess_cursx
         0000c540 00000000! 
    2231 0000c560     0d5f          calla   print_string_C
         0000c570 00000000! 
    2232                    
    2233 0000c590     09e4          movi    bhnkstr_dot,a4
         0000c5a0 0000e880' 
    2234 0000c5c0     0d5f          calla   copy_rom_string
         0000c5d0 00000000! 
    2235                    
    2236 0000c5f0     b500          move    *a8(RS_AVERAGE),a0
         0000c600     0030  
    2237 0000c610     cb07          jrnz    bhnknot_zip2
    2238                    
    2239 0000c620     09e4          movi    bhnkstr_0,a4
         0000c630 0000e8c0' 
    2240 0000c650     0d5f          calla   copy_rom_string
         0000c660 00000000! 
    2241 0000c680     c017          jruc    bhnkskip1b
    2242 0000c690           bhnknot_zip2
    2243 0000c690     0b40          cmpi    1000,a0
         0000c6a0     fc17  
    2244 0000c6b0     c80c          jrlo    bhnknot_max2
    2245                    
    2246 0000c6c0     09e4          movi    bhnkstr_1000,a4
         0000c6d0 0000e890' 
    2247 0000c6f0     0d5f          calla   copy_rom_string
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   57

         0000c700 00000000! 
    2248 0000c720     09c0          movi    XCOL5-9,a0
         0000c730     012d  
    2249 0000c740     0580          move    a0,@mess_cursx
         0000c750 00000000! 
    2250 0000c770     c00d          jruc    bhnkskip2b
    2251                    
    2252 0000c780           bhnknot_max2
    2253 0000c780     09c1          movi    999,a1                  ;max value
         0000c790     03e7  
    2254 0000c7a0     0d5f          calla   dec_to_pct
         0000c7b0 00000000! 
    2255 0000c7d0     0d5f          calla   concat_string
         0000c7e0 00000000! 
    2256 0000c800           bhnkskip1b
    2257 0000c800     09c0          movi    XCOL5,a0
         0000c810     0136  
    2258 0000c820     0580          move    a0,@mess_cursx
         0000c830 00000000! 
    2259 0000c850           bhnkskip2b
    2260 0000c850     0d5f          calla   print_string
         0000c860 00000000! 
    2261                    
    2262                    
    2263 0000c880     05a0          move    @mess_cursy,a0
         0000c890 00000000! 
    2264 0000c8b0     0b00          addi    YOFF,a0
         0000c8c0     0018  
    2265 0000c8d0     0580          move    a0,@mess_cursy
         0000c8e0 00000000! 
    2266                    
    2267 0000c900                   PULL    a9,a10
    2268 0000c920     0b09          addi    20h,a9
         0000c930     0020  
    2269 0000c940     0d8a          dsj     a10,bhnknext_player2
         0000c950     ff65  
    2270                    
    2271 0000c960     0960          rets
    2272                    
    2273 0000c970           bhnkexppals
    2274 0000c970 00000000!         .long   OSGCYC7
    2275 0000c990 00000000!         .long   OSGCYC6
    2276 0000c9b0 00000000!         .long   OSGCYC5
    2277 0000c9d0 00000000!         .long   OSGCYC4
    2278 0000c9f0 00000000!         .long   OSGCYC3
    2279 0000ca10 00000000!         .long   OSGCYC2
    2280 0000ca30 00000000!         .long   OSGCYC1
    2281 0000ca50 00000000!         .long   BLUE
    2282                    
    2283 0000ca70           bhnkmethod2b
    2284                    
    2285                            .asg    132,LCOL1
    2286                            .asg    230,LCOL2
    2287                            .asg    65,YOFF2
    2288                    
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   58

    2289 0000ca70     09e2          movi    LN0b_setup,a2
         0000ca80 0000dc50' 
    2290 0000caa0     0d5f          calla   setup_message
         0000cab0 00000000! 
    2291 0000cad0     09c0          movi    TYPTEXT,a0
         0000cae0     0700  
    2292 0000caf0     0580          move    a0,@mess_objid
         0000cb00 00000000! 
    2293                    
    2294 0000cb20     186a          movk    3,a10
    2295 0000cb30     09e9          movi    record_sort_ptrs,a9
         0000cb40 00000d60- 
    2296                    
    2297 0000cb60           bhnknext_player2b
    2298 0000cb60                   PUSH    a9,a10
    2299                    
    2300 0000cb80     09e0          movi    LGMDGLD,a0
         0000cb90 00000000! 
    2301 0000cbb0     0780          move    a0,@message_palette,L
         0000cbc0 00000000! 
    2302                    
    2303 0000cbe0     09c0          movi    LCOL1-38,a0
         0000cbf0     005e  
    2304 0000cc00     0580          move    a0,@mess_cursx
         0000cc10 00000000! 
    2305 0000cc30     09e4          movi    bhnkstr_num,a4
         0000cc40 0000e8e8' 
    2306 0000cc60     0d5f          calla   print_string_C2
         0000cc70 00000000! 
    2307                    
    2308 0000cc90     1880          movk    4,a0
    2309 0000cca0     4540          sub     a10,a0                          ;1-3
    2310 0000ccb0     1861          movk    3,a1                            ;max value
    2311 0000ccc0     0d5f          calla   dec_to_asc
         0000ccd0 00000000! 
    2312 0000ccf0     0d5f          calla   copy_string
         0000cd00 00000000! 
    2313 0000cd20     09c0          movi    LCOL1,a0
         0000cd30     0084  
    2314 0000cd40     0580          move    a0,@mess_cursx
         0000cd50 00000000! 
    2315 0000cd70     0d5f          calla   print_string_C
         0000cd80 00000000! 
    2316                    
    2317 0000cda0     8728          move    *a9,a8,L
    2318 0000cdb0     b500          move    *a8(RS_RECORD_NUM),a0
         0000cdc0     0000  
    2319 0000cdd0     09c1          movi    PKDPR_SIZE*2,a1                 ;cmos words
         0000cde0     0150  
    2320 0000cdf0     5e01          mpyu    a0,a1
    2321 0000ce00     0b21          addi    RECORD_ORIGIN,a1
         0000ce10 01400000  
    2322 0000ce30                   PUSH    a10
    2323 0000ce40     4c2a          move    a1,a10
    2324 0000ce50     0d3f          callr   get_temp_record
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   59

         0000ce60     f572  
    2325                    
    2326 0000ce70     09c0          movi    LCOL2,a0
         0000ce80     00e6  
    2327 0000ce90     0580          move    a0,@mess_cursx
         0000cea0 00000000! 
    2328                    
    2329 0000cec0                   PULL    a0
    2330 0000ced0     24a0          sll     5,a0                    ;x 32 bits
    2331 0000cee0     0b20          addi    bhnkchampals-20h,a0
         0000cef0 0000d240' 
    2332 0000cf10     8600          move    *a0,a0,L
    2333 0000cf20     0780          move    a0,@message_palette,L
         0000cf30 00000000! 
    2334                    
    2335                    
    2336 0000cf50     05a0          move    @temp_record+PR_NUMDEF,a0
         0000cf60 000008c0- 
    2337 0000cf80     0b40          cmpi    27,a0
         0000cf90     ffe4  
    2338 0000cfa0     c50d          jrge    bhnkis_champ
    2339                    
    2340 0000cfb0     09e0          movi    LGMDGLD,a0
         0000cfc0 00000000! 
    2341 0000cfe0     0780          move    a0,@message_palette,L
         0000cff0 00000000! 
    2342                    
    2343 0000d010     09e4          movi    bhnkstr_none,a4
         0000d020 0000d230' 
    2344 0000d040     0d5f          calla   print_string_C2
         0000d050 00000000! 
    2345 0000d070     c00c          jruc    bhnknot_champ
    2346 0000d080           bhnkis_champ
    2347 0000d080     09e4          movi    temp_record+PR_INIT1,a4         ;* src initials
         0000d090 00000780- 
    2348 0000d0b0     09e3          movi    message_buffer,a3               ;* string dest
         0000d0c0 00000000! 
    2349 0000d0e0     0d5f          calla   get_initials_string
         0000d0f0 00000000! 
    2350 0000d110     0d5f          calla   print_string_C
         0000d120 00000000! 
    2351                    
    2352 0000d140           bhnknot_champ
    2353 0000d140     05a0          move    @mess_cursy,a0
         0000d150 00000000! 
    2354 0000d170     0b00          addi    YOFF2,a0
         0000d180     0041  
    2355 0000d190     0580          move    a0,@mess_cursy
         0000d1a0 00000000! 
    2356                    
    2357 0000d1c0                   PULL    a9,a10
    2358 0000d1e0     0b09          addi    20h,a9
         0000d1f0     0020  
    2359 0000d200     0d8a          dsj     a10,bhnknext_player2b
         0000d210     ff94  
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   60

    2360                    
    2361 0000d220     0960          rets
    2362                    
    2363 0000d230           bhnkstr_none
    2364 0000d230       2e          .string ". . .",0
    2365 0000d260                   .even
    2366                    
    2367                    
    2368 0000d260           bhnkchampals
    2369 0000d260 00000000!         .long   OSGCYC8
    2370 0000d280 00000000!         .long   OSGCYC9
    2371 0000d2a0 00000000!         .long   OSGCYC10
    2372                    
    2373                    
    2374 0000d2c0           bhnkmethod3
    2375                    
    2376                            .asg    115,TCOL1
    2377 0000d2c0     09e2          movi    LN0_setup,a2
         0000d2d0 0000dbb0' 
    2378 0000d2f0     0d5f          calla   setup_message
         0000d300 00000000! 
    2379 0000d320     09c0          movi    TYPTEXT,a0
         0000d330     0700  
    2380 0000d340     0580          move    a0,@mess_objid
         0000d350 00000000! 
    2381                    
    2382 0000d370     190a          movk    8,a10
    2383 0000d380     09e9          movi    sorted_teams,a9
         0000d390 00000000! 
    2384                    
    2385 0000d3b0           bhnknext_team
    2386 0000d3b0                   PUSH    a9,a10
    2387                    
    2388 0000d3d0     09e0          movi    GOLD,a0
         0000d3e0 00000000! 
    2389 0000d400     0780          move    a0,@message_palette,L
         0000d410 00000000! 
    2390                    
    2391 0000d430                   PUSH    a9
    2392 0000d440     1920          movk    9,a0
    2393 0000d450     4540          sub     a10,a0                          ;1-8
    2394 0000d460     1901          movk    8,a1                            ;max value
    2395 0000d470     0d5f          calla   dec_to_asc
         0000d480 00000000! 
    2396 0000d4a0     0d5f          calla   copy_string
         0000d4b0 00000000! 
    2397 0000d4d0     09c0          movi    COL0b,a0
         0000d4e0     005d  
    2398 0000d4f0     0580          move    a0,@mess_cursx
         0000d500 00000000! 
    2399 0000d520     0d5f          calla   print_string_C
         0000d530 00000000! 
    2400                    
    2401 0000d550     09c0          movi    COL0,a0
         0000d560     0040  
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   61

    2402 0000d570     0580          move    a0,@mess_cursx
         0000d580 00000000! 
    2403 0000d5a0     09e4          movi    bhnkstr_num,a4
         0000d5b0 0000e8e8' 
    2404 0000d5d0     0d5f          calla   print_string2
         0000d5e0 00000000! 
    2405                    
    2406 0000d600     4d40          move    a10,a0
    2407 0000d610     24a0          sll     5,a0                    ;x 32 bits
    2408 0000d620     0b20          addi    bhnkteampals-20h,a0
         0000d630 0000d850' 
    2409 0000d650     8600          move    *a0,a0,L
    2410 0000d660     0780          move    a0,@message_palette,L
         0000d670 00000000! 
    2411                    
    2412 0000d690     09c0          movi    TCOL1,a0
         0000d6a0     0073  
    2413 0000d6b0     0580          move    a0,@mess_cursx
         0000d6c0 00000000! 
    2414 0000d6e0                   PULL    a9
    2415 0000d6f0     8520          move    *a9,a0                          ;team number (0-26)
    2416 0000d700     24a0          sll     5,a0
    2417 0000d710     0b20          addi    bhnkteam_names,a0
         0000d720 0000e900' 
    2418 0000d740     8604          move    *a0,a4,L
    2419 0000d750     0d5f          calla   print_string2
         0000d760 00000000! 
    2420                    
    2421                    
    2422 0000d780     05a0          move    @mess_cursy,a0
         0000d790 00000000! 
    2423 0000d7b0     0b00          addi    YOFF,a0
         0000d7c0     0018  
    2424 0000d7d0     0580          move    a0,@mess_cursy
         0000d7e0 00000000! 
    2425                    
    2426 0000d800                   PULL    a9,a10
    2427 0000d820     0b09          addi    10h,a9
         0000d830     0010  
    2428 0000d840     0d8a          dsj     a10,bhnknext_team
         0000d850     ffb5  
    2429 0000d860     0960          rets
    2430                    
    2431 0000d870           bhnkteampals
    2432 0000d870 00000000!         .long   OSGCYC7
    2433 0000d890 00000000!         .long   OSGCYC6
    2434 0000d8b0 00000000!         .long   OSGCYC5
    2435 0000d8d0 00000000!         .long   OSGCYC4
    2436 0000d8f0 00000000!         .long   OSGCYC3
    2437 0000d910 00000000!         .long   OSGCYC2
    2438 0000d930 00000000!         .long   OSGCYC1
    2439 0000d950 00000000!         .long   BLUE
    2440                    
    2441                    
    2442 0000d970           bhnksort_routines
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   62

    2443 0000d970 0000da70'         .long   bhnksort_wins           ;0 (greatest players)
    2444 0000d990 0000dad0'         .long   bhnksort_champs         ;1 (grand champions)
    2445 0000d9b0 0000daa0'         .long   bhnksort_exp            ;2 (experienced players)
    2446 0000d9d0 0000db70'         .long   bhnksort_streak         ;3 (win streaks)
    2447 0000d9f0 0000db30'         .long   bhnksort_teams          ;4 (most popular teams)
    2448 0000da10 0000da70'         .long   bhnksort_wins           ;5
    2449 0000da30 0000da70'         .long   bhnksort_wins           ;6
    2450 0000da50 0000db00'         .long   bhnksort_losses         ;7 (worst players!)
    2451                    
    2452 0000da70           bhnksort_wins
    2453 0000da70     0d3f          callr   sort_wins
         0000da80     f77b  
    2454 0000da90     0960          rets
    2455                    
    2456 0000daa0           bhnksort_exp
    2457 0000daa0     0d3f          callr   sort_exp
         0000dab0     f7d6  
    2458 0000dac0     0960          rets
    2459                    
    2460 0000dad0           bhnksort_champs
    2461 0000dad0     0d3f          callr   sort_champs
         0000dae0     f806  
    2462 0000daf0     0960          rets
    2463                    
    2464 0000db00           bhnksort_losses
    2465 0000db00     0d3f          callr   sort_losses
         0000db10     f82e  
    2466 0000db20     0960          rets
    2467                    
    2468 0000db30           bhnksort_teams
    2469 0000db30     0d5f          calla   get_teams_pop
         0000db40 00000000! 
    2470 0000db60     0960          rets
    2471                    
    2472 0000db70           bhnksort_streak
    2473 0000db70     0d5f          calla   sort_streak
         0000db80 000054f0' 
    2474 0000dba0     0960          rets
    2475                    
    2476                    
    2477 0000dbb0           LN0_setup
    2478 0000dbb0                   RJR_STR osgemd_ascii,6,0,200,50,GOLD,0
    2479 0000dc50           LN0b_setup
    2480 0000dc50                   RJR_STR lgmd_ascii,6,2,200,50,LGMDGLD,0
    2481 0000dcf0           bhnkheading1_setup
    2482 0000dcf0                   RJR_STR osgemd_ascii,6,0,200,8,ORANGPAL,0
    2483 0000dd90           bhnkheading2_setup
    2484 0000dd90                   RJR_STR sgmd8_ascii,3,0,200,29+1,SGMD8YEL,0
    2485                    
    2486 0000de30           bhnkhiscore_mod
    2487 0000de30 00000000!         .long   hiscoreBMOD
    2488 0000de50     0000          .word   0,0
    2489 0000de70 00000000          .long   0
    2490                    
    2491 0000de90           bhnkheadings1
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   63

    2492 0000de90 0000e090'         .long   bhnkhd1,bhnkhd2,bhnkhd3,bhnkhd4
    2493 0000df10 0000e2f0'         .long   bhnkhd5,bhnkhd6,bhnkhd1,bhnkhd1
    2494                    
    2495 0000df90           bhnkheadings2
    2496 0000df90 0000e400'         .long   bhnkhd21,bhnkhd22,bhnkhd23,bhnkhd24
    2497 0000e010 0000e720'         .long   bhnkhd25,bhnkhd26,bhnkhd21,bhnkhd21
    2498                    
    2499 0000e090       47  bhnkhd1 .string "GREATEST PLAYERS",0
    2500 0000e118       47  bhnkhd2 .string "GRAND CHAMPIONS",0
    2501 0000e198       45  bhnkhd3 .string "EXPERIENCED PLAYERS",0
    2502 0000e238       4c  bhnkhd4 .string "LONGEST WINNING STREAK",0
    2503 0000e2f0       4d  bhnkhd5 .string "MOST POPULAR TEAMS",0
    2504 0000e388       57  bhnkhd6 .string "WORST PLAYERS!",0
    2505                    
    2506 0000e400       28  bhnkhd21        .string "( most  games  won )",0
    2507 0000e4a8       28  bhnkhd22        .string "( defeated  all  27  nba  teams )",0
    2508 0000e5b8       28  bhnkhd23        .string "( most  games  played )",0
    2509 0000e678       28  bhnkhd24        .string "( consecutive wins )",0
    2510 0000e720       28  bhnkhd25        .string "( at  this  location )",0
    2511 0000e7d8       28  bhnkhd26        .string "( worst  average )",0
    2512                    
    2513 0000e870           bhnkstr_dash
    2514 0000e870       2d          .string "-",0
    2515 0000e880           bhnkstr_dot
    2516 0000e880       2e          .string ".",0
    2517 0000e890           bhnkstr_1000
    2518 0000e890       31          .string "1.000",0
    2519 0000e8c0           bhnkstr_0
    2520 0000e8c0       2e          .string ".000",0
    2521 0000e8e8           bhnkstr_num
    2522 0000e8e8       23          .string "#",0
    2523                    
    2524 0000e900                   .even
    2525                    
    2526 0000e900           bhnkteam_names
    2527 0000e900 0000ec60'         .long   bhnkt0,bhnkt1,bhnkt2,bhnkt3
    2528 0000e980 0000ee48'         .long   bhnkt4,bhnkt5,bhnkt6,bhnkt7     
    2529 0000ea00 0000f068'         .long   bhnkt8,bhnkt9,bhnkt10,bhnkt11
    2530 0000ea80 0000f280'         .long   bhnkt12,bhnkt13,bhnkt14,bhnkt15
    2531 0000eb00 0000f460'         .long   bhnkt16,bhnkt17,bhnkt18,bhnkt19
    2532 0000eb80 0000f668'         .long   bhnkt20,bhnkt21,bhnkt22,bhnkt23
    2533 0000ec00 0000f898'         .long   bhnkt24,bhnkt25,bhnkt26
    2534                    
    2535                    
    2536 0000ec60       41  bhnkt0  .string "ATLANTA HAWKS",0
    2537 0000ecd0       42  bhnkt1  .string "BOSTON CELTICS",0
    2538 0000ed48       43  bhnkt2  .string "CHARLOTTE HORNETS",0
    2539 0000edd8       43  bhnkt3  .string "CHICAGO BULLS",0
    2540 0000ee48       43  bhnkt4  .string "CLEVELAND CAVALIERS",0
    2541 0000eee8       44  bhnkt5  .string "DALLAS MAVERICKS",0
    2542 0000ef70       44  bhnkt6  .string "DENVER NUGGETS",0
    2543 0000efe8       44  bhnkt7  .string "DETROIT PISTONS",0
    2544 0000f068       47  bhnkt8  .string "GOLDEN STATE WARRIORS",0               ;ok
    2545 0000f118       48  bhnkt9  .string "HOUSTON ROCKETS",0
    2546 0000f198       49  bhnkt10 .string "INDIANA PACERS",0
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   64

    2547 0000f210       4c  bhnkt11 .string "L.A. CLIPPERS",0
    2548 0000f280       4c  bhnkt12 .string "L.A. LAKERS",0
    2549 0000f2e0       4d  bhnkt13 .string "MIAMI HEAT",0
    2550 0000f338       4d  bhnkt14 .string "MILWAUKEE BUCKS",0
    2551 0000f3b8       4d  bhnkt15 .string "MINNESOTA TIMBERWLVS",0
    2552 0000f460       4e  bhnkt16 .string "NEW JERSEY NETS",0
    2553 0000f4e0       4e  bhnkt17 .string "NEW YORK KNICKS",0
    2554 0000f560       4f  bhnkt18 .string "ORLANDO MAGIC",0
    2555 0000f5d0       50  bhnkt19 .string "PHILADELPHIA 76ERS",0
    2556 0000f668       50  bhnkt20 .string "PHOENIX SUNS",0
    2557 0000f6d0       50  bhnkt21 .string "PORTLAND TRAILBLAZERS",0
    2558 0000f780       53  bhnkt22 .string "SACRAMENTO KINGS",0
    2559 0000f808       53  bhnkt23 .string "SAN ANTONIO SPURS",0
    2560 0000f898       53  bhnkt24 .string "SEATTLE SUPERSONICS",0
    2561 0000f938       55  bhnkt25 .string "UTAH JAZZ",0
    2562 0000f988       57  bhnkt26 .string "WASHINGTON BULLETS",0
    2563                    
    2564 0000fa20                   .even
    2565                    
    2566                    
    2567              000a  RECORDS_ONSCREEN        equ     10
    2568                    
    2569 0000fa20            SUBRP  show_player_records
    2570                    
    2571 0000fa20     0d5f          calla   display_blank
         0000fa30 00000000! 
    2572 0000fa50     0d5f          calla   WIPEOUT                 ;CLEAN SYSTEM OUT
         0000fa60 00000000! 
    2573                    
    2574 0000fa80     1820          movk    1,a0                    ;page flipping on
    2575 0000fa90     0580          move    a0,@dpageflip
         0000faa0 00000000! 
    2576                    
    2577 0000fac0     09e0          movi    SCRNEND,a0              ;[256,405]
         0000fad0 00fe01b0  
    2578 0000faf0     0780          move    a0,@SCRNLR,L
         0000fb00 00000000! 
    2579                    
    2580 0000fb20     5600          clr     a0
    2581 0000fb30     0780          move    a0,@WORLDTLX,L
         0000fb40 00000000! 
    2582 0000fb60     0780          move    a0,@WORLDTLY,L
         0000fb70 00000000! 
    2583                    
    2584                            .asg    80,COL0
    2585                            .asg    90,COL1
    2586                            .asg    170,COL2
    2587                            .asg    215,COL3
    2588                            .asg    280,COL4
    2589                            .asg    310,COL5
    2590                            .asg    22,YOFF
    2591                    
    2592 0000fb90     09e0          movi    osgemd_ascii,a0
         0000fba0 00000000! 
    2593 0000fbc0     0780          move    a0,@message_ascii,L     ;* ascii lookup table
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   65

         0000fbd0 00000000! 
    2594                    
    2595 0000fbf0     09c0          movi    TYPTEXT,a0
         0000fc00     0700  
    2596 0000fc10     0580          move    a0,@mess_objid
         0000fc20 00000000! 
    2597                    
    2598 0000fc40     1940          movk    10,a0
    2599 0000fc50     0580          move    a0,@mess_space_width    ;space char width
         0000fc60 00000000! 
    2600 0000fc80     5600          clr     a0
    2601 0000fc90     0580          move    a0,@mess_spacing        ;spacing between chars
         0000fca0 00000000! 
    2602                    
    2603                    
    2604 0000fcc0     09e0          movi    OSGEMD,a0
         0000fcd0 00000000! 
    2605 0000fcf0     0780          move    a0,@message_palette,L
         0000fd00 00000000! 
    2606                    
    2607 0000fd20     5684          clr     a4
    2608 0000fd30           ledcdisplay_loop
    2609 0000fd30                   PUSHP   a4
    2610 0000fd40     0d3f          callr   display_audits
         0000fd50     003a  
    2611                    
    2612                    
    2613 0000fd60     1820          movk    1,a0
    2614 0000fd70     0580          move    a0,@DISPLAYON
         0000fd80 00000000! 
    2615                    
    2616 0000fda0                   SLEEPK  2
    2617 0000fde0     0d5f          calla   display_unblank
         0000fdf0 00000000! 
    2618                    
    2619                    
    2620 0000fe10     18ca          movk    6,a10
    2621 0000fe20           ledcloopy
    2622 0000fe20                   SLEEPK  1
    2623 0000fe60     0d5f          calla   get_all_sticks_down2
         0000fe70 00000000! 
    2624 0000fe90     4c00          move    a0,a0
    2625 0000fea0     cb09          jrnz    ledcgot_stick
    2626 0000feb0     3d4a          dsj     a10,ledcloopy
    2627                    
    2628 0000fec0           ledcwait_for_input
    2629 0000fec0                   SLEEPK  1
    2630 0000ff00     0d5f          calla   get_all_buttons_cur2
         0000ff10 00000000! 
    2631 0000ff30     cb18          jrnz    ledcexit
    2632                    
    2633 0000ff40           ledcgot_stick
    2634 0000ff40                   PULLP   a4
    2635 0000ff50     0d5f          calla   get_all_sticks_cur2
         0000ff60 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   66

    2636 0000ff80     1fc0          btst    1,a0
    2637 0000ff90     ca09          jrz     ledcno_down
    2638 0000ffa0     4c81          move    a4,a1
    2639 0000ffb0     0b01          addi    RECORDS_ONSCREEN,a1
         0000ffc0     000a  
    2640 0000ffd0     0b41          cmpi    NUM_PRECORDS,a1
         0000ffe0     fedd  
    2641 0000fff0     c903          jrhs    ledcno_down
    2642 00010000     0b04          addi    RECORDS_ONSCREEN,a4
         00010010     000a  
    2643 00010020     c0d0          jruc    ledcdisplay_loop
    2644 00010030           ledcno_down
    2645 00010030     1fe0          btst    0,a0
    2646 00010040     ca05          jrz     ledcno_up
    2647 00010050     4c84          move    a4,a4
    2648 00010060     ca03          jrz     ledcno_up
    2649 00010070     0be4          subi    RECORDS_ONSCREEN,a4
         00010080     fff5  
    2650 00010090     c0c9          jruc    ledcdisplay_loop
    2651 000100a0           ledcno_up
    2652 000100a0                   PUSHP   a4
    2653 000100b0     c0e0          jruc    ledcwait_for_input
    2654                    
    2655 000100c0           ledcexit
    2656 000100c0                   PULLP   a4
    2657 000100d0                   RETP
    2658                    
    2659                    
    2660 00010100            SUBRP  display_audits
    2661                    
    2662 00010100     09c0          movi    TYPTEXT,a0              ;delete text
         00010110     0700  
    2663 00010120     0d5f          calla   obj_del1c
         00010130 00000000! 
    2664                    
    2665 00010150     09c0          movi    20,a0
         00010160     0014  
    2666 00010170     0580          move    a0,@mess_cursy          ;message cursor pos Y
         00010180 00000000! 
    2667                    
    2668 000101a0     09c1          movi    PKDPR_SIZE*2,a1         ;cmos words
         000101b0     0150  
    2669 000101c0     5e81          mpyu    a4,a1
    2670 000101d0     09ea          movi    RECORD_ORIGIN,a10
         000101e0 01400000  
    2671 00010200     402a          add     a1,a10
    2672 00010210     09c6          movi    RECORDS_ONSCREEN,a6
         00010220     000a  
    2673 00010230           nceksearch_loop
    2674 00010230                   PUSH    a6,a10
    2675 00010250                   PUSH    a4
    2676                            
    2677 00010260     0d3f          callr   get_temp_record         ;data in temp_record
         00010270     f231  
    2678                    
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   67

    2679 00010280     09e4          movi    str_obr,a4
         00010290 000109a0' 
    2680 000102b0     0d5f          calla   copy_rom_string
         000102c0 00000000! 
    2681 000102e0     5600          clr     a0
    2682 000102f0     0580          move    a0,@mess_cursx          ;message cursor pos X
         00010300 00000000! 
    2683                    
    2684 00010320                   PULL    a1
    2685 00010330     4c20          move    a1,a0
    2686 00010340     1021          inc     a1
    2687 00010350                   PUSH    a1
    2688 00010360     09c1          movi    999,a1                  ;max value
         00010370     03e7  
    2689 00010380     0d5f          calla   dec_to_asc
         00010390 00000000! 
    2690 000103b0     0d5f          calla   concat_string
         000103c0 00000000! 
    2691 000103e0     09e4          movi    str_cbr,a4
         000103f0 000109b0' 
    2692 00010410     0d5f          calla   concat_rom_string
         00010420 00000000! 
    2693 00010440     0d5f          calla   print_string
         00010450 00000000! 
    2694                    
    2695 00010470     09e4          movi    temp_record+PR_INIT1,a4         ;* src initials
         00010480 00000780- 
    2696 000104a0     09e3          movi    message_buffer,a3               ;* string dest
         000104b0 00000000! 
    2697 000104d0     0d5f          calla   get_initials_string
         000104e0 00000000! 
    2698                    
    2699 00010500     09c0          movi    COL2,a0
         00010510     00aa  
    2700 00010520     0580          move    a0,@mess_cursx          ;message cursor pos X
         00010530 00000000! 
    2701                    
    2702 00010550     05a0          move    @temp_record+PR_COUNT,a0
         00010560 00000740- 
    2703 00010580     cb07          jrnz    nceknot_empty
    2704                    
    2705 00010590     09e4          movi    str_unused,a4
         000105a0 000109e8' 
    2706 000105c0     0d5f          calla   print_string_C2
         000105d0 00000000! 
    2707 000105f0     c029          jruc    ncekskipit
    2708 00010600           nceknot_empty
    2709 00010600     0d5f          calla   print_string_C          ;centered
         00010610 00000000! 
    2710                    
    2711 00010630     09c0          movi    COL0,a0
         00010640     0050  
    2712 00010650     0580          move    a0,@mess_cursx          ;message cursor pos X
         00010660 00000000! 
    2713 00010680     05a0          move    @temp_record+PR_COUNT,a0
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   68

         00010690 00000740- 
    2714 000106b0     09c1          movi    2047,a1                 ;max value
         000106c0     07ff  
    2715 000106d0     0d5f          calla   dec_to_asc
         000106e0 00000000! 
    2716 00010700     0d5f          calla   copy_string
         00010710 00000000! 
    2717 00010730     0d5f          calla   print_string
         00010740 00000000! 
    2718                    
    2719 00010760     09c0          movi    COL4,a0
         00010770     0118  
    2720 00010780     0580          move    a0,@mess_cursx          ;message cursor pos X
         00010790 00000000! 
    2721 000107b0     05a0          move    @temp_record+PR_LASTPLAY,a0
         000107c0 00000770- 
    2722 000107e0     09c1          movi    2047,a1                 ;max value
         000107f0     07ff  
    2723 00010800     0d5f          calla   dec_to_asc
         00010810 00000000! 
    2724 00010830     0d5f          calla   copy_string
         00010840 00000000! 
    2725 00010860     0d5f          calla   print_string_R
         00010870 00000000! 
    2726                    
    2727 00010890           ncekskipit
    2728                    
    2729 00010890     05a0          move    @mess_cursy,a0          ;message cursor pos Y
         000108a0 00000000! 
    2730 000108c0     0b00          addi    YOFF,a0
         000108d0     0016  
    2731 000108e0     0580          move    a0,@mess_cursy          ;message cursor pos Y
         000108f0 00000000! 
    2732                    
    2733 00010910                   PULL    a4
    2734 00010920                   PULL    a6,a10
    2735 00010940     0b0a          addi    PKDPR_SIZE*2,a10        ;cmos words
         00010950     0150  
    2736 00010960     0d86          dsj     a6,nceksearch_loop
         00010970     ff8b  
    2737                    
    2738 00010980     0960          rets
    2739                    
    2740 00010990       23  str_num .string "#",0
    2741 000109a0       28  str_obr .string "(",0
    2742 000109b0       29  str_cbr .string ")",0
    2743 000109c0       20  str_sp  .string " ",0
    2744 000109d0       20  str_2sp .string "  ",0
    2745                    
    2746 000109e8           str_unused
    2747 000109e8       55          .string "UNUSED",0
    2748                    
    2749 00010a20           ncekmonths
    2750 00010a20       4a          .string "JAN",0
    2751 00010a40       46          .string "FEB",0
TMS340 COFF Macro Assembler Version 6.10     Tue Dec 19 01:45:17 2023
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

CMOS records etc                                                     PAGE   69

    2752 00010a60       4d          .string "MAR",0
    2753 00010a80       41          .string "APR",0
    2754 00010aa0       4d          .string "MAY",0
    2755 00010ac0       4a          .string "JUN",0
    2756 00010ae0       4a          .string "JUL",0
    2757 00010b00       41          .string "AUG",0
    2758 00010b20       53          .string "SEP",0
    2759 00010b40       4f          .string "OCT",0
    2760 00010b60       4e          .string "NOV",0
    2761 00010b80       44          .string "DEC",0
    2762                    
    2763                    
    2764                    

 No Errors,  No Warnings
